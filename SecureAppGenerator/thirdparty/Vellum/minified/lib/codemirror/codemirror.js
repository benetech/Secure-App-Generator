window.CodeMirror=(function(){var bB=/gecko\/\d/i.test(navigator.userAgent);var cs=/MSIE \d/.test(navigator.userAgent);var by=cs&&(document.documentMode==null||document.documentMode<8);var bx=cs&&(document.documentMode==null||document.documentMode<9);var b1=/WebKit\//.test(navigator.userAgent);var cv=b1&&/Qt\/\d+\.\d+/.test(navigator.userAgent);var b9=/Chrome\//.test(navigator.userAgent);var dM=/Opera\//.test(navigator.userAgent);var ae=/Apple Computer/.test(navigator.vendor);var aC=/KHTML\//.test(navigator.userAgent);var bM=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent);var b6=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent);var dJ=/PhantomJS/.test(navigator.userAgent);var dl=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent);var cN=dl||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent);var bk=dl||/Mac/.test(navigator.platform);var am=/windows/i.test(navigator.platform);var cZ=dM&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);if(cZ){cZ=Number(cZ[1])}var ba=bk&&(cv||dM&&(cZ==null||cZ<12.11));var bQ=bB||(cs&&!bx);var d9=false,az=false;function z(ee,ef){if(!(this instanceof z)){return new z(ee,ef)}this.options=ef=ef||{};for(var eg in dn){if(!ef.hasOwnProperty(eg)&&dn.hasOwnProperty(eg)){ef[eg]=dn[eg]}}bs(ef);var ek=typeof ef.value=="string"?0:ef.value.first;var ej=this.display=f(ee,ek);ej.wrapper.CodeMirror=this;cJ(this);if(ef.autofocus&&!cN){c2(this)}this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,focused:false,suppressEdits:false,pasteIncoming:false,draggingText:false,highlight:new ed()};bV(this);if(ef.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}var ei=ef.value;if(typeof ei=="string"){ei=new Y(ef.value,ef.mode)}b2(this,cI)(this,ei);if(cs){setTimeout(bH(dF,this,true),20)}dZ(this);var el;try{el=(document.activeElement==ej.input)}catch(eh){}if(el||(ef.autofocus&&!cN)){setTimeout(bH(bL,this),20)}else{ar(this)}b2(this,function(){for(var en in aF){if(aF.propertyIsEnumerable(en)){aF[en](this,ef[en],bq)}}for(var em=0;em<aA.length;++em){aA[em](this)}})()}function f(ee,eg){var eh={};var ef=eh.input=d4("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none; font-size: 4px;");if(b1){ef.style.width="1000px"}else{ef.setAttribute("wrap","off")}if(dl){ef.style.border="1px solid black"}ef.setAttribute("autocorrect","off");ef.setAttribute("autocapitalize","off");ef.setAttribute("spellcheck","false");eh.inputDiv=d4("div",[ef],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");eh.scrollbarH=d4("div",[d4("div",null,null,"height: 1px")],"CodeMirror-hscrollbar");eh.scrollbarV=d4("div",[d4("div",null,null,"width: 1px")],"CodeMirror-vscrollbar");eh.scrollbarFiller=d4("div",null,"CodeMirror-scrollbar-filler");eh.gutterFiller=d4("div",null,"CodeMirror-gutter-filler");eh.lineDiv=d4("div",null,"CodeMirror-code");eh.selectionDiv=d4("div",null,null,"position: relative; z-index: 1");eh.cursor=d4("div","\u00a0","CodeMirror-cursor");eh.otherCursor=d4("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor");eh.measure=d4("div",null,"CodeMirror-measure");eh.lineSpace=d4("div",[eh.measure,eh.selectionDiv,eh.lineDiv,eh.cursor,eh.otherCursor],null,"position: relative; outline: none");eh.mover=d4("div",[d4("div",[eh.lineSpace],"CodeMirror-lines")],null,"position: relative");eh.sizer=d4("div",[eh.mover],"CodeMirror-sizer");eh.heightForcer=d4("div",null,null,"position: absolute; height: "+aJ+"px; width: 1px;");eh.gutters=d4("div",null,"CodeMirror-gutters");eh.lineGutter=null;eh.scroller=d4("div",[eh.sizer,eh.heightForcer,eh.gutters],"CodeMirror-scroll");eh.scroller.setAttribute("tabIndex","-1");eh.wrapper=d4("div",[eh.inputDiv,eh.scrollbarH,eh.scrollbarV,eh.scrollbarFiller,eh.gutterFiller,eh.scroller],"CodeMirror");if(by){eh.gutters.style.zIndex=-1;eh.scroller.style.paddingRight=0}if(ee.appendChild){ee.appendChild(eh.wrapper)}else{ee(eh.wrapper)}if(dl){ef.style.width="0px"}if(!b1){eh.scroller.draggable=true}if(aC){eh.inputDiv.style.height="1px";eh.inputDiv.style.position="absolute"}else{if(by){eh.scrollbarH.style.minWidth=eh.scrollbarV.style.minWidth="18px"}}eh.viewOffset=eh.lastSizeC=0;eh.showingFrom=eh.showingTo=eg;eh.lineNumWidth=eh.lineNumInnerWidth=eh.lineNumChars=null;eh.prevInput="";eh.alignWidgets=false;eh.pollingFast=false;eh.poll=new ed();eh.cachedCharWidth=eh.cachedTextHeight=null;eh.measureLineCache=[];eh.measureLineCachePos=0;eh.inaccurateSelection=false;eh.maxLine=null;eh.maxLineLength=0;eh.maxLineChanged=false;eh.wheelDX=eh.wheelDY=eh.wheelStartX=eh.wheelStartY=null;return eh}function aS(ee){ee.doc.mode=z.getMode(ee.options,ee.doc.modeOption);ee.doc.iter(function(ef){if(ef.stateAfter){ef.stateAfter=null}if(ef.styles){ef.styles=null}});ee.doc.frontier=ee.doc.first;cM(ee,100);ee.state.modeGen++;if(ee.curOp){O(ee)}}function da(ee){if(ee.options.lineWrapping){ee.display.wrapper.className+=" CodeMirror-wrap";ee.display.sizer.style.minWidth=""}else{ee.display.wrapper.className=ee.display.wrapper.className.replace(" CodeMirror-wrap","");d6(ee)}J(ee);O(ee);R(ee);setTimeout(function(){dj(ee)},100)}function aE(ee){var eg=au(ee.display),ef=ee.options.lineWrapping;var eh=ef&&Math.max(5,ee.display.scroller.clientWidth/cq(ee.display)-3);return function(ei){if(dK(ee.doc,ei)){return 0}else{if(ef){return(Math.ceil(ei.text.length/eh)||1)*eg}else{return eg}}}}function J(ee){var eg=ee.doc,ef=aE(ee);eg.iter(function(eh){var ei=ef(eh);if(ei!=eh.height){d7(eh,ei)}})}function ec(ee){var eg=ds[ee.options.keyMap],ef=eg.style;ee.display.wrapper.className=ee.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(ef?" cm-keymap-"+ef:"");ee.state.disableInput=eg.disableInput}function bV(ee){ee.display.wrapper.className=ee.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+ee.options.theme.replace(/(^|\s)\s*/g," cm-s-");R(ee)}function cl(ee){cJ(ee);O(ee);setTimeout(function(){c6(ee)},20)}function cJ(ee){var ef=ee.display.gutters,ej=ee.options.gutters;cC(ef);for(var eg=0;eg<ej.length;++eg){var eh=ej[eg];var ei=ef.appendChild(d4("div",null,"CodeMirror-gutter "+eh));if(eh=="CodeMirror-linenumbers"){ee.display.lineGutter=ei;ei.style.width=(ee.display.lineNumWidth||1)+"px"}}ef.style.display=eg?"":"none"}function cR(ei,eg){if(eg.height==0){return 0}var ef=eg.text.length,ee,ej=eg;while(ee=dd(ej)){var eh=ee.find();ej=dv(ei,eh.from.line);ef+=eh.from.ch-eh.to.ch}ej=eg;while(ee=cW(ej)){var eh=ee.find();ef-=ej.text.length-eh.from.ch;ej=dv(ei,eh.to.line);ef+=ej.text.length-eh.to.ch}return ef}function d6(ee){var eg=ee.display,ef=ee.doc;eg.maxLine=dv(ef,ef.first);eg.maxLineLength=cR(ef,eg.maxLine);eg.maxLineChanged=true;ef.iter(function(ei){var eh=cR(ef,ei);if(eh>eg.maxLineLength){eg.maxLineLength=eh;eg.maxLine=ei}})}function bs(ee){var eg=false;for(var ef=0;ef<ee.gutters.length;++ef){if(ee.gutters[ef]=="CodeMirror-linenumbers"){if(ee.lineNumbers){eg=true}else{ee.gutters.splice(ef--,1)}}}if(!eg&&ee.lineNumbers){ee.gutters.push("CodeMirror-linenumbers")}}function dj(ee){var ek=ee.display,ef=ee.doc.height;var eh=ef+a3(ek);ek.sizer.style.minHeight=ek.heightForcer.style.top=eh+"px";ek.gutters.style.height=Math.max(eh,ek.scroller.clientHeight-aJ)+"px";var ei=Math.max(eh,ek.scroller.scrollHeight);var ej=ek.scroller.scrollWidth>(ek.scroller.clientWidth+1);var eg=ei>(ek.scroller.clientHeight+1);if(eg){ek.scrollbarV.style.display="block";ek.scrollbarV.style.bottom=ej?i(ek.measure)+"px":"0";ek.scrollbarV.firstChild.style.height=(ei-ek.scroller.clientHeight+ek.scrollbarV.clientHeight)+"px"}else{ek.scrollbarV.style.display=""}if(ej){ek.scrollbarH.style.display="block";ek.scrollbarH.style.right=eg?i(ek.measure)+"px":"0";ek.scrollbarH.firstChild.style.width=(ek.scroller.scrollWidth-ek.scroller.clientWidth+ek.scrollbarH.clientWidth)+"px"}else{ek.scrollbarH.style.display=""}if(ej&&eg){ek.scrollbarFiller.style.display="block";ek.scrollbarFiller.style.height=ek.scrollbarFiller.style.width=i(ek.measure)+"px"}else{ek.scrollbarFiller.style.display=""}if(ej&&ee.options.coverGutterNextToScrollbar&&ee.options.fixedGutter){ek.gutterFiller.style.display="block";ek.gutterFiller.style.height=i(ek.measure)+"px";ek.gutterFiller.style.width=ek.gutters.offsetWidth+"px"}else{ek.gutterFiller.style.display=""}if(bM&&i(ek.measure)===0){ek.scrollbarV.style.minWidth=ek.scrollbarH.style.minHeight=b6?"18px":"12px"}}function bj(ej,ei,eh){var eg=ej.scroller.scrollTop,ee=ej.wrapper.clientHeight;if(typeof eh=="number"){eg=eh}else{if(eh){eg=eh.top;ee=eh.bottom-eh.top}}eg=Math.floor(eg-dq(ej));var ef=Math.ceil(eg+ee);return{from:a1(ei,eg),to:a1(ei,ef)}}function c6(ee){var ek=ee.display;if(!ek.alignWidgets&&(!ek.gutters.firstChild||!ee.options.fixedGutter)){return}var eh=cB(ek)-ek.scroller.scrollLeft+ee.doc.scrollLeft;var ej=ek.gutters.offsetWidth,eg=eh+"px";for(var el=ek.lineDiv.firstChild;el;el=el.nextSibling){if(el.alignable){for(var ei=0,ef=el.alignable;ei<ef.length;++ei){ef[ei].style.left=eg}}}if(ee.options.fixedGutter){ek.gutters.style.left=(eh+ej)+"px"}}function cE(ee){if(!ee.options.lineNumbers){return false}var ej=ee.doc,ef=cU(ee.options,ej.first+ej.size-1),ei=ee.display;if(ef.length!=ei.lineNumChars){var ek=ei.measure.appendChild(d4("div",[d4("div",ef)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var eg=ek.firstChild.offsetWidth,eh=ek.offsetWidth-eg;ei.lineGutter.style.width="";ei.lineNumInnerWidth=Math.max(eg,ei.lineGutter.offsetWidth-eh);ei.lineNumWidth=ei.lineNumInnerWidth+eh;ei.lineNumChars=ei.lineNumInnerWidth?ef.length:-1;ei.lineGutter.style.width=ei.lineNumWidth+"px";return true}return false}function cU(ee,ef){return String(ee.lineNumberFormatter(ef+ee.firstLineNumber))}function cB(ee){return al(ee.scroller).left-al(ee.sizer).left}function ct(ee,eh,ei){var eg=ee.display.showingFrom,ek=ee.display.showingTo,ef;var ej=bj(ee.display,ee.doc,ei);for(;;){if(!cc(ee,eh,ej)){break}ef=true;aY(ee);dj(ee);if(ei){ei=Math.min(ee.display.scroller.scrollHeight-ee.display.scroller.clientHeight,typeof ei=="number"?ei:ei.top)}ej=bj(ee.display,ee.doc,ei);if(ej.from>=ee.display.showingFrom&&ej.to<=ee.display.showingTo){break}eh=[]}if(ef){M(ee,"update",ee);if(ee.display.showingFrom!=eg||ee.display.showingTo!=ek){M(ee,"viewportChange",ee,ee.display.showingFrom,ee.display.showingTo)}}return ef}function cc(ej,eC,ef){var ev=ej.display,eD=ej.doc;if(!ev.wrapper.clientWidth){ev.showingFrom=ev.showingTo=eD.first;ev.viewOffset=0;return}if(eC.length==0&&ef.from>ev.showingFrom&&ef.to<ev.showingTo){return}if(cE(ej)){eC=[{from:eD.first,to:eD.first+eD.size}]}var eA=ev.sizer.style.marginLeft=ev.gutters.offsetWidth+"px";ev.scrollbarH.style.left=ej.options.fixedGutter?eA:"0";var eg=Infinity;if(ej.options.lineNumbers){for(var ew=0;ew<eC.length;++ew){if(eC[ew].diff){eg=eC[ew].from;break}}}var eh=eD.first+eD.size;var eu=Math.max(ef.from-ej.options.viewportMargin,eD.first);var ee=Math.min(eh,ef.to+ej.options.viewportMargin);if(ev.showingFrom<eu&&eu-ev.showingFrom<20){eu=Math.max(eD.first,ev.showingFrom)}if(ev.showingTo>ee&&ev.showingTo-ee<20){ee=Math.min(eh,ev.showingTo)}if(az){eu=a8(t(eD,dv(eD,eu)));while(ee<eh&&dK(eD,dv(eD,ee))){++ee}}var ey=[{from:Math.max(ev.showingFrom,eD.first),to:Math.min(ev.showingTo,eh)}];if(ey[0].from>=ey[0].to){ey=[]}else{ey=dE(ey,eC)}if(az){for(var ew=0;ew<ey.length;++ew){var eo=ey[ew],ez;while(ez=cW(dv(eD,eo.to-1))){var eB=ez.find().from.line;if(eB>eo.from){eo.to=eB}else{ey.splice(ew--,1);break}}}}var er=0;for(var ew=0;ew<ey.length;++ew){var eo=ey[ew];if(eo.from<eu){eo.from=eu}if(eo.to>ee){eo.to=ee}if(eo.from>=eo.to){ey.splice(ew--,1)}else{er+=eo.to-eo.from}}if(er==ee-eu&&eu==ev.showingFrom&&ee==ev.showingTo){h(ej);return}ey.sort(function(eF,eE){return eF.from-eE.from});try{var ek=document.activeElement}catch(ex){}if(er<(ee-eu)*0.7){ev.lineDiv.style.display="none"}bz(ej,eu,ee,ey,eg);ev.lineDiv.style.display="";if(ek&&document.activeElement!=ek&&ek.offsetHeight){ek.focus()}var ep=eu!=ev.showingFrom||ee!=ev.showingTo||ev.lastSizeC!=ev.wrapper.clientHeight;if(ep){ev.lastSizeC=ev.wrapper.clientHeight;cM(ej,400)}ev.showingFrom=eu;ev.showingTo=ee;var ei=ev.lineDiv.offsetTop;for(var et=ev.lineDiv.firstChild,eq;et;et=et.nextSibling){if(et.lineObj){if(by){var en=et.offsetTop+et.offsetHeight;eq=en-ei;ei=en}else{var el=al(et);eq=el.bottom-el.top}var em=et.lineObj.height-eq;if(eq<2){eq=au(ev)}if(em>0.001||em<-0.001){d7(et.lineObj,eq);var es=et.lineObj.widgets;if(es){for(var ew=0;ew<es.length;++ew){es[ew].height=es[ew].node.offsetHeight}}}}}h(ej);return true}function h(ee){var ef=ee.display.viewOffset=a7(ee,dv(ee.doc,ee.display.showingFrom));ee.display.mover.style.top=ef+"px"}function dE(en,el){for(var ei=0,eg=el.length||0;ei<eg;++ei){var ek=el[ei],ee=[],em=ek.diff||0;for(var eh=0,ef=en.length;eh<ef;++eh){var ej=en[eh];if(ek.to<=ej.from&&ek.diff){ee.push({from:ej.from+em,to:ej.to+em})}else{if(ek.to<=ej.from||ek.from>=ej.to){ee.push(ej)}else{if(ek.from>ej.from){ee.push({from:ej.from,to:ek.from})}if(ek.to<ej.to){ee.push({from:ek.to+em,to:ej.to+em})}}}}en=ee}return en}function dt(ee){var ei=ee.display,eh={},eg={};for(var ej=ei.gutters.firstChild,ef=0;ej;ej=ej.nextSibling,++ef){eh[ee.options.gutters[ef]]=ej.offsetLeft;eg[ee.options.gutters[ef]]=ej.offsetWidth}return{fixedPos:cB(ei),gutterTotalWidth:ei.gutters.offsetWidth,gutterLeft:eh,gutterWidth:eg,wrapperWidth:ei.wrapper.clientWidth}}function bz(en,ek,el,eq,ef){var em=dt(en);var ej=en.display,ep=en.options.lineNumbers;if(!eq.length&&(!b1||!en.display.currentWheelTarget)){cC(ej.lineDiv)}var ee=ej.lineDiv,eo=ee.firstChild;function ei(es){var er=es.nextSibling;if(b1&&bk&&en.display.currentWheelTarget==es){es.style.display="none";es.lineObj=null}else{es.parentNode.removeChild(es)}return er}var eg=eq.shift(),eh=ek;en.doc.iter(ek,el,function(eA){if(eg&&eg.to==eh){eg=eq.shift()}if(dK(en.doc,eA)){if(eA.height!=0){d7(eA,0)}if(eA.widgets&&eo.previousSibling){for(var ev=0;ev<eA.widgets.length;++ev){var ex=eA.widgets[ev];if(ex.showIfHidden){var et=eo.previousSibling;if(/pre/i.test(et.nodeName)){var es=d4("div",null,null,"position: relative");et.parentNode.replaceChild(es,et);es.appendChild(et);et=es}var ey=et.appendChild(d4("div",[ex.node],"CodeMirror-linewidget"));if(!ex.handleMouseEvents){ey.ignoreEvents=true}a0(ex,ey,et,em)}}}}else{if(eg&&eg.from<=eh&&eg.to>eh){while(eo.lineObj!=eA){eo=ei(eo)}if(ep&&ef<=eh&&eo.lineNumber){n(eo.lineNumber,cU(en.options,eh))}eo=eo.nextSibling}else{if(eA.widgets){for(var eu=0,ez=eo,ew;ez&&eu<20;++eu,ez=ez.nextSibling){if(ez.lineObj==eA&&/div/i.test(ez.nodeName)){ew=ez;break}}}var er=ag(en,eA,eh,em,ew);if(er!=ew){ee.insertBefore(er,eo)}else{while(eo!=ew){eo=ei(eo)}eo=eo.nextSibling}er.lineObj=eA}}++eh});while(eo){eo=ei(eo)}}function ag(ek,em,en,eq,ef){var ew=cw(ek,em);var ez=em.gutterMarkers,ex=ek.display,el;if(!ek.options.lineNumbers&&!ez&&!em.bgClass&&!em.wrapClass&&!em.widgets){return ew}if(ef){ef.alignable=null;var eA=true,eh=0,eg=null;for(var es=ef.firstChild,er;es;es=er){er=es.nextSibling;if(!/\bCodeMirror-linewidget\b/.test(es.className)){ef.removeChild(es)}else{for(var ey=0,ej=true;ey<em.widgets.length;++ey){var ei=em.widgets[ey];if(!ei.above){eg=es;ej=false}if(ei.node==es.firstChild){a0(ei,es,ef,eq);++eh;break}}if(ey==em.widgets.length){eA=false;break}}}ef.insertBefore(ew,eg);if(eA&&eh==em.widgets.length){el=ef;ef.className=em.wrapClass||""}}if(!el){el=d4("div",null,em.wrapClass,"position: relative");el.appendChild(ew)}if(em.bgClass){el.insertBefore(d4("div",null,em.bgClass+" CodeMirror-linebackground"),el.firstChild)}if(ek.options.lineNumbers||ez){var eu=el.insertBefore(d4("div",null,null,"position: absolute; left: "+(ek.options.fixedGutter?eq.fixedPos:-eq.gutterTotalWidth)+"px"),el.firstChild);if(ek.options.fixedGutter){(el.alignable||(el.alignable=[])).push(eu)}if(ek.options.lineNumbers&&(!ez||!ez["CodeMirror-linenumbers"])){el.lineNumber=eu.appendChild(d4("div",cU(ek.options,en),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+eq.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+ex.lineNumInnerWidth+"px"))}if(ez){for(var ev=0;ev<ek.options.gutters.length;++ev){var ep=ek.options.gutters[ev],eo=ez.hasOwnProperty(ep)&&ez[ep];if(eo){eu.appendChild(d4("div",[eo],"CodeMirror-gutter-elt","left: "+eq.gutterLeft[ep]+"px; width: "+eq.gutterWidth[ep]+"px"))}}}}if(by){el.style.zIndex=2}if(em.widgets&&el!=ef){for(var ey=0,ee=em.widgets;ey<ee.length;++ey){var ei=ee[ey],et=d4("div",[ei.node],"CodeMirror-linewidget");if(!ei.handleMouseEvents){et.ignoreEvents=true}a0(ei,et,el,eq);if(ei.above){el.insertBefore(et,ek.options.lineNumbers&&em.height!=0?eu:ew)}else{el.appendChild(et)}M(ei,"redraw")}}return el}function a0(eh,eg,ef,ei){if(eh.noHScroll){(ef.alignable||(ef.alignable=[])).push(eg);var ee=ei.wrapperWidth;eg.style.left=ei.fixedPos+"px";if(!eh.coverGutter){ee-=ei.gutterTotalWidth;eg.style.paddingLeft=ei.gutterTotalWidth+"px"}eg.style.width=ee+"px"}if(eh.coverGutter){eg.style.zIndex=5;eg.style.position="relative";if(!eh.noHScroll){eg.style.marginLeft=-ei.gutterTotalWidth+"px"}}}function aY(ee){var eh=ee.display;var ei=dT(ee.doc.sel.from,ee.doc.sel.to);if(ei||ee.options.showCursorWhenSelecting){A(ee)}else{eh.cursor.style.display=eh.otherCursor.style.display="none"}if(!ei){T(ee)}else{eh.selectionDiv.style.display="none"}if(ee.options.moveInputWithCursor){var ej=cz(ee,ee.doc.sel.head,"div");var ef=al(eh.wrapper),eg=al(eh.lineDiv);eh.inputDiv.style.top=Math.max(0,Math.min(eh.wrapper.clientHeight-10,ej.top+eg.top-ef.top))+"px";eh.inputDiv.style.left=Math.max(0,Math.min(eh.wrapper.clientWidth-10,ej.left+eg.left-ef.left))+"px"}}function A(ee){var ef=ee.display,eg=cz(ee,ee.doc.sel.head,"div");ef.cursor.style.left=eg.left+"px";ef.cursor.style.top=eg.top+"px";ef.cursor.style.height=Math.max(0,eg.bottom-eg.top)*ee.options.cursorHeight+"px";ef.cursor.style.display="";if(eg.other){ef.otherCursor.style.display="";ef.otherCursor.style.left=eg.other.left+"px";ef.otherCursor.style.top=eg.other.top+"px";ef.otherCursor.style.height=(eg.other.bottom-eg.other.top)*0.85+"px"}else{ef.otherCursor.style.display="none"}}function T(ep){var ek=ep.display,eo=ep.doc,ee=ep.doc.sel;var ei=document.createDocumentFragment();var en=ek.lineSpace.offsetWidth,eg=at(ep.display);function er(ev,eu,et,es){if(eu<0){eu=0}ei.appendChild(d4("div",null,"CodeMirror-selected","position: absolute; left: "+ev+"px; top: "+eu+"px; width: "+(et==null?en-ev:et)+"px; height: "+(es-eu)+"px"))}function em(et,ev,ey){var eu=dv(eo,et);var ew=eu.text.length;var ez,es;function ex(eB,eA){return bS(ep,I(et,eB),"div",eu,eA)}cD(a(eu),ev||0,ey==null?ew:ey,function(eH,eG,eA){var eD=ex(eH,"left"),eE,eF,eC;if(eH==eG){eE=eD;eF=eC=eD.left}else{eE=ex(eG-1,"right");if(eA=="rtl"){var eB=eD;eD=eE;eE=eB}eF=eD.left;eC=eE.right}if(ev==null&&eH==0){eF=eg}if(eE.top-eD.top>3){er(eF,eD.top,null,eD.bottom);eF=eg;if(eD.bottom<eE.top){er(eF,eD.bottom,null,eE.top)}}if(ey==null&&eG==ew){eC=en}if(!ez||eD.top<ez.top||eD.top==ez.top&&eD.left<ez.left){ez=eD}if(!es||eE.bottom>es.bottom||eE.bottom==es.bottom&&eE.right>es.right){es=eE}if(eF<eg+1){eF=eg}er(eF,eE.top,eC-eF,eE.bottom)});return{start:ez,end:es}}if(ee.from.line==ee.to.line){em(ee.from.line,ee.from.ch,ee.to.ch)}else{var eh=dv(eo,ee.from.line),ef=dv(eo,ee.to.line);var ej=t(eo,eh)==t(eo,ef);var eq=em(ee.from.line,ee.from.ch,ej?eh.text.length:null).end;var el=em(ee.to.line,ej?0:null,ee.to.ch).start;if(ej){if(eq.top<el.top-2){er(eq.right,eq.top,null,eq.bottom);er(eg,el.top,el.left,el.bottom)}else{er(eq.right,eq.top,el.left-eq.right,eq.bottom)}}if(eq.bottom<el.top){er(eg,eq.bottom,null,el.top)}}bc(ek.selectionDiv,ei);ek.selectionDiv.style.display=""}function l(ee){if(!ee.state.focused){return}var eg=ee.display;clearInterval(eg.blinker);var ef=true;eg.cursor.style.visibility=eg.otherCursor.style.visibility="";eg.blinker=setInterval(function(){eg.cursor.style.visibility=eg.otherCursor.style.visibility=(ef=!ef)?"":"hidden"},ee.options.cursorBlinkRate)}function cM(ee,ef){if(ee.doc.mode.startState&&ee.doc.frontier<ee.display.showingTo){ee.state.highlight.set(ef,bH(bW,ee))}}function bW(ee){var eh=ee.doc;if(eh.frontier<eh.first){eh.frontier=eh.first}if(eh.frontier>=ee.display.showingTo){return}var ef=+new Date+ee.options.workTime;var eg=bi(eh.mode,co(ee,eh.frontier));var ej=[],ei;eh.iter(eh.frontier,Math.min(eh.first+eh.size,ee.display.showingTo+500),function(ek){if(eh.frontier>=ee.display.showingFrom){var em=ek.styles;ek.styles=dP(ee,ek,eg);var en=!em||em.length!=ek.styles.length;for(var el=0;!en&&el<em.length;++el){en=em[el]!=ek.styles[el]}if(en){if(ei&&ei.end==eh.frontier){ei.end++}else{ej.push(ei={start:eh.frontier,end:eh.frontier+1})}}ek.stateAfter=bi(eh.mode,eg)}else{cm(ee,ek,eg);ek.stateAfter=eh.frontier%5==0?bi(eh.mode,eg):null}++eh.frontier;if(+new Date>ef){cM(ee,ee.options.workDelay);return true}});if(ej.length){b2(ee,function(){for(var ek=0;ek<ej.length;++ek){O(this,ej[ek].start,ej[ek].end)}})()}}function bJ(ek,ee,eh){var ef,ei,ej=ek.doc;for(var en=ee,eg=ee-100;en>eg;--en){if(en<=ej.first){return ej.first}var em=dv(ej,en-1);if(em.stateAfter&&(!eh||en<=ej.frontier)){return en}var el=bb(em.text,null,ek.options.tabSize);if(ei==null||ef>el){ei=en-1;ef=el}}return ei}function co(ee,ek,ef){var ei=ee.doc,eh=ee.display;if(!ei.mode.startState){return true}var ej=bJ(ee,ek,ef),eg=ej>ei.first&&dv(ei,ej-1).stateAfter;if(!eg){eg=bh(ei.mode)}else{eg=bi(ei.mode,eg)}ei.iter(ej,ek,function(el){cm(ee,el,eg);var em=ej==ek-1||ej%5==0||ej>=eh.showingFrom&&ej<eh.showingTo;el.stateAfter=em?bi(ei.mode,eg):null;++ej});return eg}function dq(ee){return ee.lineSpace.offsetTop}function a3(ee){return ee.mover.offsetHeight-ee.lineSpace.offsetHeight}function at(ef){var ee=bc(ef.measure,d4("pre",null,null,"text-align: left")).appendChild(d4("span","x"));return ee.offsetLeft}function cO(el,em,ef,eh,ej){var eg=-1;eh=eh||a4(el,em);for(var ek=ef;;ek+=eg){var ee=eh[ek];if(ee){break}if(eg<0&&ek==0){eg=1}}var ei=(ek<ef||ej=="right")&&ee.topRight!=null;return{left:ek<ef?ee.right:ee.left,right:ek>ef?ee.left:ee.right,top:ei?ee.topRight:ee.top,bottom:ei?ee.bottomRight:ee.bottom}}function dp(ee,ef){var eh=ee.display.measureLineCache;for(var ei=0;ei<eh.length;++ei){var eg=eh[ei];if(eg.text==ef.text&&eg.markedSpans==ef.markedSpans&&ee.display.scroller.clientWidth==eg.width&&eg.classes==ef.textClass+"|"+ef.bgClass+"|"+ef.wrapClass){return eg}}}function dX(ee,ef){var eg=dp(ee,ef);if(eg){eg.text=eg.measure=eg.markedSpans=null}}function a4(ee,ef){var ej=dp(ee,ef);if(ej){return ej.measure}var ei=cb(ee,ef);var eh=ee.display.measureLineCache;var eg={text:ef.text,width:ee.display.scroller.clientWidth,markedSpans:ef.markedSpans,measure:ei,classes:ef.textClass+"|"+ef.bgClass+"|"+ef.wrapClass};if(eh.length==16){eh[++ee.display.measureLineCachePos%16]=eg}else{eh.push(eg)}return ei}function cb(eo,eq){var ez=eo.display,ek=S(eq.text.length);var ev=cw(eo,eq,ek);if(cs&&!by&&!eo.options.lineWrapping&&ev.childNodes.length>100){var eh=document.createDocumentFragment();var es=10,ew=ev.childNodes.length;for(var eB=0,et=Math.ceil(ew/es);eB<et;++eB){var ep=d4("div",null,null,"display: inline-block");for(var eA=0;eA<es&&ew;++eA){ep.appendChild(ev.firstChild);--ew}eh.appendChild(ep)}ev.appendChild(eh)}bc(ez.measure,ev);var eg=al(ez.lineDiv);var ef=[],eG=S(eq.text.length),eE=ev.offsetHeight;if(bx&&ez.measure.first!=ev){bc(ez.measure,ev)}function er(eJ,eL){if(eL>eE){eL=eE}if(eJ<0){eJ=0}for(var eH=0;eH<ef.length;eH+=2){var eI=ef[eH],eK=ef[eH+1];if(eI>eL||eK<eJ){continue}if(eI<=eJ&&eK>=eL||eJ<=eI&&eL>=eK||Math.min(eL,eK)-Math.max(eJ,eI)>=(eL-eJ)>>1){ef[eH]=Math.min(eJ,eI);ef[eH+1]=Math.max(eL,eK);return eH}}ef.push(eJ,eL);return eH}for(var eB=0,ej;eB<ek.length;++eB){if(ej=ek[eB]){var eu,ex=ej;if(/\bCodeMirror-widget\b/.test(ej.className)&&ej.getClientRects){if(ej.firstChild.nodeType==1){ex=ej.firstChild}var em=ex.getClientRects(),eC=em[0],ei=em[em.length-1];if(em.length>1){var eF=er(eC.top-eg.top,eC.bottom-eg.top);var en=er(ei.top-eg.top,ei.bottom-eg.top);eG[eB]={left:eC.left-eg.left,right:ei.right-eg.left,top:eF,topRight:en};continue}}eu=al(ex);var el=er(eu.top-eg.top,eu.bottom-eg.top);var eD=eu.right;if(ej.measureRight){eD=al(ej.measureRight).left}eG[eB]={left:eu.left-eg.left,right:eD-eg.left,top:el}}}for(var eB=0,ej;eB<eG.length;++eB){if(ej=eG[eB]){var ey=ej.top,ee=ej.topRight;ej.top=ef[ey];ej.bottom=ef[ey+1];if(ee!=null){ej.topRight=ef[ee];ej.bottomRight=ef[ee+1]}}}return eG}function c7(ee,eg){var el=false;if(eg.markedSpans){for(var eh=0;eh<eg.markedSpans;++eh){var ej=eg.markedSpans[eh];if(ej.collapsed&&(ej.to==null||ej.to==eg.text.length)){el=true}}}var ei=!el&&dp(ee,eg);if(ei){return cO(ee,eg,eg.text.length,ei.measure,"right").right}var ek=cw(ee,eg);var ef=ek.appendChild(aP(ee.display.measure));bc(ee.display.measure,ek);return al(ef).right-al(ee.display.lineDiv).left}function R(ee){ee.display.measureLineCache.length=ee.display.measureLineCachePos=0;ee.display.cachedCharWidth=ee.display.cachedTextHeight=null;if(!ee.options.lineWrapping){ee.display.maxLineChanged=true}ee.display.lineNumChars=null}function bG(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function bF(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function de(ek,eh,ej,ef){if(eh.widgets){for(var eg=0;eg<eh.widgets.length;++eg){if(eh.widgets[eg].above){var em=bZ(eh.widgets[eg]);ej.top+=em;ej.bottom+=em}}}if(ef=="line"){return ej}if(!ef){ef="local"}var ei=a7(ek,eh);if(ef=="local"){ei+=dq(ek.display)}else{ei-=ek.display.viewOffset}if(ef=="page"||ef=="window"){var ee=al(ek.display.lineSpace);ei+=ee.top+(ef=="window"?0:bF());var el=ee.left+(ef=="window"?0:bG());ej.left+=el;ej.right+=el}ej.top+=ei;ej.bottom+=ei;return ej}function eb(ef,ei,eg){if(eg=="div"){return ei}var ek=ei.left,ej=ei.top;if(eg=="page"){ek-=bG();ej-=bF()}else{if(eg=="local"||!eg){var eh=al(ef.display.sizer);ek+=eh.left;ej+=eh.top}}var ee=al(ef.display.lineSpace);return{left:ek-ee.left,top:ej-ee.top}}function bS(ee,ei,eh,eg,ef){if(!eg){eg=dv(ee.doc,ei.line)}return de(ee,eg,cO(ee,eg,ei.ch,null,ef),eh)}function cz(en,em,eg,el,ej){el=el||dv(en.doc,em.line);if(!ej){ej=a4(en,el)}function ei(er,eq){var ep=cO(en,el,er,ej,eq?"right":"left");if(eq){ep.left=ep.right}else{ep.right=ep.left}return de(en,el,ep,eg)}function eo(es,ep){var eq=ek[ep],er=eq.level%2;if(es==cn(eq)&&ep&&eq.level<ek[ep-1].level){eq=ek[--ep];es=ea(eq)-(eq.level%2?0:1);er=true}else{if(es==ea(eq)&&ep<ek.length-1&&eq.level<ek[ep+1].level){eq=ek[++ep];es=cn(eq)-eq.level%2;er=false}}if(er&&es==eq.to&&es>eq.from){return ei(es-1)}return ei(es,er)}var ek=a(el),ee=em.ch;if(!ek){return ei(ee)}var ef=ah(ek,ee);var eh=eo(ee,ef);if(dm!=null){eh.other=eo(ee,dm)}return eh}function d3(ee,ef,eg,ei){var eh=new I(ee,ef);eh.xRel=ei;if(eg){eh.outside=true}return eh}function dY(el,ei,eh){var ek=el.doc;eh+=el.display.viewOffset;if(eh<0){return d3(ek.first,0,true,-1)}var ef=a1(ek,eh),em=ek.first+ek.size-1;if(ef>em){return d3(ek.first+ek.size-1,dv(ek,em).text.length,true,1)}if(ei<0){ei=0}for(;;){var eg=dv(ek,ef);var en=b0(el,eg,ef,ei,eh);var ej=cW(eg);var ee=ej&&ej.find();if(ej&&(en.ch>ee.from.ch||en.ch==ee.from.ch&&en.xRel>0)){ef=ee.to.line}else{return en}}}function b0(eo,eg,er,eq,ep){var en=ep-a7(eo,eg);var ek=false,ex=2*eo.display.wrapper.clientWidth;var ew=a4(eo,eg);function eB(eD){var eE=cz(eo,I(er,eD),"line",eg,ew);ek=true;if(en>eE.bottom){return eE.left-ex}else{if(en<eE.top){return eE.left+ex}else{ek=false}}return eE.left}var et=a(eg),ev=eg.text.length;var ey=bN(eg),eh=bX(eg);var eu=eB(ey),ee=ek,ef=eB(eh),ej=ek;if(eq>ef){return d3(er,eh,ej,1)}for(;;){if(et?eh==ey||eh==q(eg,ey,1):eh-ey<=1){var es=eq<eu||eq-eu<=ef-eq?ey:eh;var eA=eq-(es==ey?eu:ef);while(dG.test(eg.text.charAt(es))){++es}var em=d3(er,es,es==ey?ee:ej,eA<0?-1:eA?1:0);return em}var el=Math.ceil(ev/2),eC=ey+el;if(et){eC=ey;for(var ez=0;ez<el;++ez){eC=q(eg,eC,1)}}var ei=eB(eC);if(ei>eq){eh=eC;ef=ei;if(ej=ek){ef+=1000}ev=el}else{ey=eC;eu=ei;ee=ek;ev-=el}}}var ai;function au(eg){if(eg.cachedTextHeight!=null){return eg.cachedTextHeight}if(ai==null){ai=d4("pre");for(var ef=0;ef<49;++ef){ai.appendChild(document.createTextNode("x"));ai.appendChild(d4("br"))}ai.appendChild(document.createTextNode("x"))}bc(eg.measure,ai);var ee=ai.offsetHeight/50;if(ee>3){eg.cachedTextHeight=ee}cC(eg.measure);return ee||1}function cq(eh){if(eh.cachedCharWidth!=null){return eh.cachedCharWidth}var ee=d4("span","x");var eg=d4("pre",[ee]);bc(eh.measure,eg);var ef=ee.offsetWidth;if(ef>2){eh.cachedCharWidth=ef}return ef||10}var cG=0;function bR(ee){ee.curOp={changes:[],updateInput:null,userSelChange:null,textChanged:null,selectionChanged:false,cursorActivity:false,updateMaxLine:false,updateScrollPos:false,id:++cG};if(!bE++){aO=[]}}function U(eq){var el=eq.curOp,ep=eq.doc,em=eq.display;eq.curOp=null;if(el.updateMaxLine){d6(eq)}if(em.maxLineChanged&&!eq.options.lineWrapping&&em.maxLine){var ef=c7(eq,em.maxLine);em.sizer.style.minWidth=Math.max(0,ef+3+aJ)+"px";em.maxLineChanged=false;var en=Math.max(0,em.sizer.offsetLeft+em.sizer.offsetWidth-em.scroller.clientWidth);if(en<ep.scrollLeft&&!el.updateScrollPos){aZ(eq,Math.min(em.scroller.scrollLeft,en),true)}}var eg,ej;if(el.updateScrollPos){eg=el.updateScrollPos}else{if(el.selectionChanged&&em.scroller.clientHeight){var eo=cz(eq,ep.sel.head);eg=y(eq,eo.left,eo.top,eo.left,eo.bottom)}}if(el.changes.length||eg&&eg.scrollTop!=null){ej=ct(eq,el.changes,eg&&eg.scrollTop);if(eq.display.scroller.offsetHeight){eq.doc.scrollTop=eq.display.scroller.scrollTop}}if(!ej&&el.selectionChanged){aY(eq)}if(el.updateScrollPos){em.scroller.scrollTop=em.scrollbarV.scrollTop=ep.scrollTop=eg.scrollTop;em.scroller.scrollLeft=em.scrollbarH.scrollLeft=ep.scrollLeft=eg.scrollLeft;c6(eq);if(el.scrollToPos){v(eq,dU(eq.doc,el.scrollToPos),el.scrollToPosMargin)}}else{if(eg){ac(eq)}}if(el.selectionChanged){l(eq)}if(eq.state.focused&&el.updateInput){dF(eq,el.userSelChange)}var ek=el.maybeHiddenMarkers,ee=el.maybeUnhiddenMarkers;if(ek){for(var ei=0;ei<ek.length;++ei){if(!ek[ei].lines.length){af(ek[ei],"hide")}}}if(ee){for(var ei=0;ei<ee.length;++ei){if(ee[ei].lines.length){af(ee[ei],"unhide")}}}var eh;if(!--bE){eh=aO;aO=null}if(el.textChanged){af(eq,"change",eq,el.textChanged)}if(el.cursorActivity){af(eq,"cursorActivity",eq)}if(eh){for(var ei=0;ei<eh.length;++ei){eh[ei]()}}}function b2(ee,ef){return function(){var eh=ee||this,ei=!eh.curOp;if(ei){bR(eh)}try{var eg=ef.apply(eh,arguments)}finally{if(ei){U(eh)}}return eg}}function dO(ee){return function(){var eg=this.cm&&!this.cm.curOp,ef;if(eg){bR(this.cm)}try{ef=ee.apply(this,arguments)}finally{if(eg){U(this.cm)}}return ef}}function bU(ef,eh){var eg=!ef.curOp,ee;if(eg){bR(ef)}try{ee=eh()}finally{if(eg){U(ef)}}return ee}function O(ee,eh,eg,ef){if(eh==null){eh=ee.doc.first}if(eg==null){eg=ee.doc.first+ee.doc.size}ee.curOp.changes.push({from:eh,to:eg,diff:ef})}function aN(ee){if(ee.display.pollingFast){return}ee.display.poll.set(ee.options.pollInterval,function(){bu(ee);if(ee.state.focused){aN(ee)}})}function u(ee){var ef=false;ee.display.pollingFast=true;function eg(){var eh=bu(ee);if(!eh&&!ef){ef=true;ee.display.poll.set(60,eg)}else{ee.display.pollingFast=false;aN(ee)}}ee.display.poll.set(20,eg)}function bu(ep){var ek=ep.display.input,eh=ep.display.prevInput,eo=ep.doc,ee=eo.sel;if(!ep.state.focused||aT(ek)||Q(ep)||ep.state.disableInput){return false}var eq=ek.value;if(eq==eh&&dT(ee.from,ee.to)){return false}if(cs&&!bx&&ep.display.inputHasSelection===eq){dF(ep,true);return false}var eg=!ep.curOp;if(eg){bR(ep)}ee.shift=false;var ej=0,ef=Math.min(eh.length,eq.length);while(ej<ef&&eh.charCodeAt(ej)==eq.charCodeAt(ej)){++ej}var en=ee.from,em=ee.to;if(ej<eh.length){en=I(en.line,en.ch-(eh.length-ej))}else{if(ep.state.overwrite&&dT(en,em)&&!ep.state.pasteIncoming){em=I(em.line,Math.min(dv(eo,em.line).text.length,em.ch+(eq.length-ej)))}}var ei=ep.curOp.updateInput;var el={from:en,to:em,text:aw(eq.slice(ej)),origin:ep.state.pasteIncoming?"paste":"+input"};aG(ep.doc,el,"end");ep.curOp.updateInput=ei;M(ep,"inputRead",ep,el);if(eq.length>1000||eq.indexOf("\n")>-1){ek.value=ep.display.prevInput=""}else{ep.display.prevInput=eq}if(eg){U(ep)}ep.state.pasteIncoming=false;return true}function dF(ee,eg){var ef,eh,ej=ee.doc;if(!dT(ej.sel.from,ej.sel.to)){ee.display.prevInput="";ef=b8&&(ej.sel.to.line-ej.sel.from.line>100||(eh=ee.getSelection()).length>1000);var ei=ef?"-":eh||ee.getSelection();ee.display.input.value=ei;if(ee.state.focused){cu(ee.display.input)}if(cs&&!bx){ee.display.inputHasSelection=ei}}else{if(eg){ee.display.prevInput=ee.display.input.value="";if(cs&&!bx){ee.display.inputHasSelection=null}}}ee.display.inaccurateSelection=ef}function c2(ee){if(ee.options.readOnly!="nocursor"&&(!cN||document.activeElement!=ee.display.input)){ee.display.input.focus()}}function Q(ee){return ee.options.readOnly||ee.doc.cantEdit}function dZ(ef){var ek=ef.display;bf(ek.scroller,"mousedown",b2(ef,cV));if(cs){bf(ek.scroller,"dblclick",b2(ef,function(en){if(ap(ef,en)){return}var eo=bA(ef,en);if(!eo||k(ef,en)||aB(ef.display,en)){return}bO(en);var em=Z(dv(ef.doc,eo.line).text,eo);d1(ef.doc,em.from,em.to)}))}else{bf(ek.scroller,"dblclick",function(em){ap(ef,em)||bO(em)})}bf(ek.lineSpace,"selectstart",function(em){if(!aB(ek,em)){bO(em)}});if(!bQ){bf(ek.scroller,"contextmenu",function(em){ab(ef,em)})}bf(ek.scroller,"scroll",function(){if(ek.scroller.clientHeight){D(ef,ek.scroller.scrollTop);aZ(ef,ek.scroller.scrollLeft,true);af(ef,"scroll",ef)}});bf(ek.scrollbarV,"scroll",function(){if(ek.scroller.clientHeight){D(ef,ek.scrollbarV.scrollTop)}});bf(ek.scrollbarH,"scroll",function(){if(ek.scroller.clientHeight){aZ(ef,ek.scrollbarH.scrollLeft)}});bf(ek.scroller,"mousewheel",function(em){b(ef,em)});bf(ek.scroller,"DOMMouseScroll",function(em){b(ef,em)});function el(){if(ef.state.focused){setTimeout(bH(c2,ef),0)}}bf(ek.scrollbarH,"mousedown",el);bf(ek.scrollbarV,"mousedown",el);bf(ek.wrapper,"scroll",function(){ek.wrapper.scrollTop=ek.wrapper.scrollLeft=0});var ee;function ei(){if(ee==null){ee=setTimeout(function(){ee=null;ek.cachedCharWidth=ek.cachedTextHeight=cX=null;R(ef);bU(ef,bH(O,ef))},100)}}bf(window,"resize",ei);function eh(){for(var em=ek.wrapper.parentNode;em&&em!=document.body;em=em.parentNode){}if(em){setTimeout(eh,5000)}else{cL(window,"resize",ei)}}setTimeout(eh,5000);bf(ek.input,"keyup",b2(ef,function(em){if(ap(ef,em)||ef.options.onKeyEvent&&ef.options.onKeyEvent(ef,W(em))){return}if(em.keyCode==16){ef.doc.sel.shift=false}}));bf(ek.input,"input",bH(u,ef));bf(ek.input,"keydown",b2(ef,m));bf(ek.input,"keypress",b2(ef,bI));bf(ek.input,"focus",bH(bL,ef));bf(ek.input,"blur",bH(ar,ef));function eg(em){if(ap(ef,em)||ef.options.onDragEvent&&ef.options.onDragEvent(ef,W(em))){return}cT(em)}if(ef.options.dragDrop){bf(ek.scroller,"dragstart",function(em){G(ef,em)});bf(ek.scroller,"dragenter",eg);bf(ek.scroller,"dragover",eg);bf(ek.scroller,"drop",b2(ef,aI))}bf(ek.scroller,"paste",function(em){if(aB(ek,em)){return}c2(ef);u(ef)});bf(ek.input,"paste",function(){ef.state.pasteIncoming=true;u(ef)});function ej(){if(ek.inaccurateSelection){ek.prevInput="";ek.inaccurateSelection=false;ek.input.value=ef.getSelection();cu(ek.input)}}bf(ek.input,"cut",ej);bf(ek.input,"copy",ej);if(aC){bf(ek.sizer,"mouseup",function(){if(document.activeElement==ek.input){ek.input.blur()}c2(ef)})}}function aB(ef,ee){for(var eg=B(ee);eg!=ef.wrapper;eg=eg.parentNode){if(!eg||eg.ignoreEvents||eg.parentNode==ef.sizer&&eg!=ef.mover){return true}}}function bA(ef,ek,eh){var ej=ef.display;if(!eh){var ei=B(ek);if(ei==ej.scrollbarH||ei==ej.scrollbarH.firstChild||ei==ej.scrollbarV||ei==ej.scrollbarV.firstChild||ei==ej.scrollbarFiller||ei==ej.gutterFiller){return null}}var ee,el,eg=al(ej.lineSpace);try{ee=ek.clientX;el=ek.clientY}catch(ek){return null}return dY(ef,ee-eg.left,el-eg.top)}var cf,ca;function cV(ew){if(ap(this,ew)){return}var eh=this,er=eh.display,ey=eh.doc,ep=ey.sel;ep.shift=ew.shiftKey;if(aB(er,ew)){if(!b1){er.scroller.draggable=false;setTimeout(function(){er.scroller.draggable=true},100)}return}if(k(eh,ew)){return}var eg=bA(eh,ew);switch(dW(ew)){case 3:if(bQ){ab.call(eh,eh,ew)}return;case 2:if(eg){d1(eh.doc,eg)}setTimeout(bH(c2,eh),20);bO(ew);return}if(!eg){if(B(ew)==er.scroller){bO(ew)}return}if(!eh.state.focused){bL(eh)}var ee=+new Date,ef="single";if(ca&&ca.time>ee-400&&dT(ca.pos,eg)){ef="triple";bO(ew);setTimeout(bH(c2,eh),20);aL(eh,eg.line)}else{if(cf&&cf.time>ee-400&&dT(cf.pos,eg)){ef="double";ca={time:ee,pos:eg};bO(ew);var et=Z(dv(ey,eg.line).text,eg);d1(eh.doc,et.from,et.to)}else{cf={time:ee,pos:eg}}}var ei=eg;if(eh.options.dragDrop&&dc&&!Q(eh)&&!dT(ep.from,ep.to)&&!dw(eg,ep.from)&&!dw(ep.to,eg)&&ef=="single"){var es=b2(eh,function(ez){if(b1){er.scroller.draggable=false}eh.state.draggingText=false;cL(document,"mouseup",es);cL(er.scroller,"drop",es);if(Math.abs(ew.clientX-ez.clientX)+Math.abs(ew.clientY-ez.clientY)<10){bO(ez);d1(eh.doc,eg);c2(eh)}});if(b1){er.scroller.draggable=true}eh.state.draggingText=es;if(er.scroller.dragDrop){er.scroller.dragDrop()}bf(document,"mouseup",es);bf(er.scroller,"drop",es);return}bO(ew);if(ef=="single"){d1(eh.doc,dU(ey,eg))}var ex=ep.from,em=ep.to,eq=eg;function eu(eA){if(dT(eq,eA)){return}eq=eA;if(ef=="single"){d1(eh.doc,dU(ey,eg),eA);return}ex=dU(ey,ex);em=dU(ey,em);if(ef=="double"){var ez=Z(dv(ey,eA.line).text,eA);if(dw(eA,ex)){d1(eh.doc,ez.from,em)}else{d1(eh.doc,ex,ez.to)}}else{if(ef=="triple"){if(dw(eA,ex)){d1(eh.doc,em,dU(ey,I(eA.line,0)))}else{d1(eh.doc,ex,dU(ey,I(eA.line+1,0)))}}}}var en=al(er.wrapper);var ej=0;function ev(eB){var ez=++ej;var eD=bA(eh,eB,true);if(!eD){return}if(!dT(eD,ei)){if(!eh.state.focused){bL(eh)}ei=eD;eu(eD);var eC=bj(er,ey);if(eD.line>=eC.to||eD.line<eC.from){setTimeout(b2(eh,function(){if(ej==ez){ev(eB)}}),150)}}else{var eA=eB.clientY<en.top?-20:eB.clientY>en.bottom?20:0;if(eA){setTimeout(b2(eh,function(){if(ej!=ez){return}er.scroller.scrollTop+=eA;ev(eB)}),50)}}}function el(ez){ej=Infinity;bO(ez);c2(eh);cL(document,"mousemove",eo);cL(document,"mouseup",ek)}var eo=b2(eh,function(ez){if(!cs&&!dW(ez)){el(ez)}else{ev(ez)}});var ek=b2(eh,el);bf(document,"mousemove",eo);bf(document,"mouseup",ek)}function k(em,ek){var el=em.display;try{var ef=ek.clientX,ee=ek.clientY}catch(ek){return false}if(ef>=Math.floor(al(el.gutters).right)){return false}bO(ek);if(!dB(em,"gutterClick")){return true}var ej=al(el.lineDiv);if(ee>ej.bottom){return true}ee-=ej.top-el.viewOffset;for(var eh=0;eh<em.options.gutters.length;++eh){var ei=el.gutters.childNodes[eh];if(ei&&al(ei).right>=ef){var en=a1(em.doc,ee);var eg=em.options.gutters[eh];M(em,"gutterClick",em,en,eg,ek);break}}return true}var N=0;function aI(ek){var em=this;if(ap(em,ek)||aB(em.display,ek)||(em.options.onDragEvent&&em.options.onDragEvent(em,W(ek)))){return}bO(ek);if(cs){N=+new Date}var el=bA(em,ek,true),ee=ek.dataTransfer.files;if(!el||Q(em)){return}if(ee&&ee.length&&window.FileReader&&window.File){var eg=ee.length,eo=Array(eg),ef=0;var eh=function(er,eq){var ep=new FileReader;ep.onload=function(){eo[eq]=ep.result;if(++ef==eg){el=dU(em.doc,el);aG(em.doc,{from:el,to:el,text:aw(eo.join("\n")),origin:"paste"},"around")}};ep.readAsText(er)};for(var ei=0;ei<eg;++ei){eh(ee[ei],ei)}}else{if(em.state.draggingText&&!(dw(el,em.doc.sel.from)||dw(em.doc.sel.to,el))){em.state.draggingText(ek);setTimeout(bH(c2,em),20);return}try{var eo=ek.dataTransfer.getData("Text");if(eo){var en=em.doc.sel.from,ej=em.doc.sel.to;bd(em.doc,el,el);if(em.state.draggingText){ax(em.doc,"",en,ej,"paste")}em.replaceSelection(eo,null,"paste");c2(em);bL(em)}}catch(ek){}}}function G(ef,eh){if(cs&&(!ef.state.draggingText||+new Date-N<100)){cT(eh);return}if(ap(ef,eh)||aB(ef.display,eh)){return}var ee=ef.getSelection();eh.dataTransfer.setData("Text",ee);if(eh.dataTransfer.setDragImage&&!ae){var eg=d4("img",null,null,"position: fixed; left: 0; top: 0;");if(dM){eg.width=eg.height=1;ef.display.wrapper.appendChild(eg);eg._top=eg.offsetTop}eh.dataTransfer.setDragImage(eg,0,0);if(dM){eg.parentNode.removeChild(eg)}}}function D(ee,ef){if(Math.abs(ee.doc.scrollTop-ef)<2){return}ee.doc.scrollTop=ef;if(!bB){ct(ee,[],ef)}if(ee.display.scroller.scrollTop!=ef){ee.display.scroller.scrollTop=ef}if(ee.display.scrollbarV.scrollTop!=ef){ee.display.scrollbarV.scrollTop=ef}if(bB){ct(ee,[])}cM(ee,100)}function aZ(ee,eg,ef){if(ef?eg==ee.doc.scrollLeft:Math.abs(ee.doc.scrollLeft-eg)<2){return}eg=Math.min(eg,ee.display.scroller.scrollWidth-ee.display.scroller.clientWidth);ee.doc.scrollLeft=eg;c6(ee);if(ee.display.scroller.scrollLeft!=eg){ee.display.scroller.scrollLeft=eg}if(ee.display.scrollbarH.scrollLeft!=eg){ee.display.scrollbarH.scrollLeft=eg}}var dC=0,bt=null;if(cs){bt=-0.53}else{if(bB){bt=15}else{if(b9){bt=-0.7}else{if(ae){bt=-1/3}}}}function b(ek,ef){var en=ef.wheelDeltaX,em=ef.wheelDeltaY;if(en==null&&ef.detail&&ef.axis==ef.HORIZONTAL_AXIS){en=ef.detail}if(em==null&&ef.detail&&ef.axis==ef.VERTICAL_AXIS){em=ef.detail}else{if(em==null){em=ef.wheelDelta}}var eh=ek.display,ej=eh.scroller;if(!(en&&ej.scrollWidth>ej.clientWidth||em&&ej.scrollHeight>ej.clientHeight)){return}if(em&&bk&&b1){for(var el=ef.target;el!=ej;el=el.parentNode){if(el.lineObj){ek.display.currentWheelTarget=el;break}}}if(en&&!bB&&!dM&&bt!=null){if(em){D(ek,Math.max(0,Math.min(ej.scrollTop+em*bt,ej.scrollHeight-ej.clientHeight)))}aZ(ek,Math.max(0,Math.min(ej.scrollLeft+en*bt,ej.scrollWidth-ej.clientWidth)));bO(ef);eh.wheelStartX=null;return}if(em&&bt!=null){var ee=em*bt;var ei=ek.doc.scrollTop,eg=ei+eh.wrapper.clientHeight;if(ee<0){ei=Math.max(0,ei+ee-50)}else{eg=Math.min(ek.doc.height,eg+ee+50)}ct(ek,[],{top:ei,bottom:eg})}if(dC<20){if(eh.wheelStartX==null){eh.wheelStartX=ej.scrollLeft;eh.wheelStartY=ej.scrollTop;eh.wheelDX=en;eh.wheelDY=em;setTimeout(function(){if(eh.wheelStartX==null){return}var eo=ej.scrollLeft-eh.wheelStartX;var eq=ej.scrollTop-eh.wheelStartY;var ep=(eq&&eh.wheelDY&&eq/eh.wheelDY)||(eo&&eh.wheelDX&&eo/eh.wheelDX);eh.wheelStartX=eh.wheelStartY=null;if(!ep){return}bt=(bt*dC+ep)/(dC+1);++dC},200)}else{eh.wheelDX+=en;eh.wheelDY+=em}}}function d0(ef,ei,ee){if(typeof ei=="string"){ei=c4[ei];if(!ei){return false}}if(ef.display.pollingFast&&bu(ef)){ef.display.pollingFast=false}var ej=ef.doc,eh=ej.sel.shift,eg=false;try{if(Q(ef)){ef.state.suppressEdits=true}if(ee){ej.sel.shift=false}eg=ei(ef)!=bp}finally{ej.sel.shift=eh;ef.state.suppressEdits=false}return eg}function cj(ee){var ef=ee.state.keyMaps.slice(0);if(ee.options.extraKeys){ef.push(ee.options.extraKeys)}ef.push(ee.options.keyMap);return ef}var X;function dz(ee,ek){var ef=d2(ee.options.keyMap),ei=ef.auto;clearTimeout(X);if(ei&&!c3(ek)){X=setTimeout(function(){if(d2(ee.options.keyMap)==ef){ee.options.keyMap=(ei.call?ei.call(null,ee):ei);ec(ee)}},50)}var eh=dH(ek,true),ej=false;if(!eh){return false}var eg=cj(ee);if(ek.shiftKey){ej=g("Shift-"+eh,eg,function(el){return d0(ee,el,true)})||g(eh,eg,function(el){if(typeof el=="string"?/^go[A-Z]/.test(el):el.motion){return d0(ee,el)}})}else{ej=g(eh,eg,function(el){return d0(ee,el)})}if(ej){bO(ek);l(ee);if(bx){ek.oldKeyCode=ek.keyCode;ek.keyCode=0}M(ee,"keyHandled",ee,eh,ek)}return ej}function cP(ee,eh,ef){var eg=g("'"+ef+"'",cj(ee),function(ei){return d0(ee,ei,true)});if(eg){bO(eh);l(ee);M(ee,"keyHandled",ee,"'"+ef+"'",eh)}return eg}var ce=null;function m(eh){var ee=this;if(!ee.state.focused){bL(ee)}if(cs&&eh.keyCode==27){eh.returnValue=false}if(ap(ee,eh)||ee.options.onKeyEvent&&ee.options.onKeyEvent(ee,W(eh))){return}var ef=eh.keyCode;ee.doc.sel.shift=ef==16||eh.shiftKey;var eg=dz(ee,eh);if(dM){ce=eg?ef:null;if(!eg&&ef==88&&!b8&&(bk?eh.metaKey:eh.ctrlKey)){ee.replaceSelection("")}}}function bI(ei){var ee=this;if(ap(ee,ei)||ee.options.onKeyEvent&&ee.options.onKeyEvent(ee,W(ei))){return}var eh=ei.keyCode,ef=ei.charCode;if(dM&&eh==ce){ce=null;bO(ei);return}if(((dM&&(!ei.which||ei.which<10))||aC)&&dz(ee,ei)){return}var eg=String.fromCharCode(ef==null?eh:ef);if(this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!Q(this)&&this.doc.mode.electricChars.indexOf(eg)>-1){setTimeout(b2(ee,function(){L(ee,ee.doc.sel.to.line,"smart")}),75)}if(cP(ee,ei,eg)){return}if(cs&&!bx){ee.display.inputHasSelection=null}u(ee)}function bL(ee){if(ee.options.readOnly=="nocursor"){return}if(!ee.state.focused){af(ee,"focus",ee);ee.state.focused=true;if(ee.display.wrapper.className.search(/\bCodeMirror-focused\b/)==-1){ee.display.wrapper.className+=" CodeMirror-focused"}dF(ee,true)}aN(ee);l(ee)}function ar(ee){if(ee.state.focused){af(ee,"blur",ee);ee.state.focused=false;ee.display.wrapper.className=ee.display.wrapper.className.replace(" CodeMirror-focused","")}clearInterval(ee.display.blinker);setTimeout(function(){if(!ee.state.focused){ee.doc.sel.shift=false}},150)}var dQ;function ab(en,ei){var ek=en.display,ef=en.doc.sel;if(aB(ek,ei)){return}var em=bA(en,ei),ee=ek.scroller.scrollTop;if(!em||dM){return}if(dT(ef.from,ef.to)||dw(em,ef.from)||!dw(em,ef.to)){b2(en,bd)(en.doc,em,em)}var ej=ek.input.style.cssText;ek.inputDiv.style.position="absolute";ek.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(ei.clientY-5)+"px; left: "+(ei.clientX-5)+"px; z-index: 1000; background: white; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);";c2(en);dF(en,true);if(dT(ef.from,ef.to)){ek.input.value=ek.prevInput=" "}function eh(){if(ek.input.selectionStart!=null){var eo=ek.input.value=" "+(dT(ef.from,ef.to)?"":ek.input.value);ek.prevInput=" ";ek.input.selectionStart=1;ek.input.selectionEnd=eo.length}}function el(){ek.inputDiv.style.position="relative";ek.input.style.cssText=ej;if(bx){ek.scrollbarV.scrollTop=ek.scroller.scrollTop=ee}aN(en);if(ek.input.selectionStart!=null){if(!cs||bx){eh()}clearTimeout(dQ);var eo=0,ep=function(){if(ek.prevInput==" "&&ek.input.selectionStart==0){b2(en,c4.selectAll)(en)}else{if(eo++<10){dQ=setTimeout(ep,500)}else{dF(en)}}};dQ=setTimeout(ep,200)}}if(cs&&!bx){eh()}if(bQ){cT(ei);var eg=function(){cL(window,"mouseup",eg);setTimeout(el,20)};bf(window,"mouseup",eg)}else{setTimeout(el,50)}}var bY=z.changeEnd=function(ee){if(!ee.text){return ee.to}return I(ee.from.line+ee.text.length-1,dS(ee.text).length+(ee.text.length==1?ee.from.ch:0))};function c5(ei,ek,ej){if(!dw(ek.from,ej)){return dU(ei,ej)}var eh=(ek.text.length-1)-(ek.to.line-ek.from.line);if(ej.line>ek.to.line+eh){var eg=ej.line-eh,ef=ei.first+ei.size-1;if(eg>ef){return I(ef,dv(ei,ef).text.length)}return dI(ej,dv(ei,eg).text.length)}if(ej.line==ek.to.line+eh){return dI(ej,dS(ek.text).length+(ek.text.length==1?ek.from.ch:0)+dv(ei,ek.to.line).text.length-ek.to.ch)}var ee=ej.line-ek.from.line;return dI(ej,ek.text[ee].length+(ee?0:ek.from.ch))}function dA(ef,ei,eg){if(eg&&typeof eg=="object"){return{anchor:c5(ef,ei,eg.anchor),head:c5(ef,ei,eg.head)}}if(eg=="start"){return{anchor:ei.from,head:ei.from}}var ee=bY(ei);if(eg=="around"){return{anchor:ei.from,head:ee}}if(eg=="end"){return{anchor:ee,head:ee}}var eh=function(el){if(dw(el,ei.from)){return el}if(!dw(ei.to,el)){return ee}var ej=el.line+ei.text.length-(ei.to.line-ei.from.line)-1,ek=el.ch;if(el.line==ei.to.line){ek+=ee.ch-ei.to.ch}return I(ej,ek)};return{anchor:eh(ef.sel.anchor),head:eh(ef.sel.head)}}function cy(ef,eh,eg){var ee={canceled:false,from:eh.from,to:eh.to,text:eh.text,origin:eh.origin,cancel:function(){this.canceled=true}};if(eg){ee.update=function(el,ek,ej,ei){if(el){this.from=dU(ef,el)}if(ek){this.to=dU(ef,ek)}if(ej){this.text=ej}if(ei!==undefined){this.origin=ei}}}af(ef,"beforeChange",ef,ee);if(ef.cm){af(ef.cm,"beforeChange",ef.cm,ee)}if(ee.canceled){return null}return{from:ee.from,to:ee.to,text:ee.text,origin:ee.origin}}function aG(eh,ej,ei,eg){if(eh.cm){if(!eh.cm.curOp){return b2(eh.cm,aG)(eh,ej,ei,eg)}if(eh.cm.state.suppressEdits){return}}if(dB(eh,"beforeChange")||eh.cm&&dB(eh.cm,"beforeChange")){ej=cy(eh,ej,true);if(!ej){return}}var ef=d9&&!eg&&bP(eh,ej.from,ej.to);if(ef){for(var ee=ef.length-1;ee>=1;--ee){an(eh,{from:ef[ee].from,to:ef[ee].to,text:[""]})}if(ef.length){an(eh,{from:ef[0].from,to:ef[0].to,text:ej.text},ei)}}else{an(eh,ej,ei)}}function an(eg,ei,eh){var ef=dA(eg,ei,eh);c9(eg,ei,ef,eg.cm?eg.cm.curOp.id:NaN);cK(eg,ei,ef,cQ(eg,ei));var ee=[];cF(eg,function(ek,ej){if(!ej&&cd(ee,ek.history)==-1){cr(ek.history,ei);ee.push(ek.history)}cK(ek,ei,null,cQ(ek,ei))})}function bm(en,ek){if(en.cm&&en.cm.state.suppressEdits){return}var ej=en.history;var ef=(ek=="undo"?ej.done:ej.undone).pop();if(!ef){return}var el={changes:[],anchorBefore:ef.anchorAfter,headBefore:ef.headAfter,anchorAfter:ef.anchorBefore,headAfter:ef.headBefore,generation:ej.generation};(ek=="undo"?ej.undone:ej.done).push(el);ej.generation=ef.generation||++ej.maxGeneration;var eg=dB(en,"beforeChange")||en.cm&&dB(en.cm,"beforeChange");for(var eh=ef.changes.length-1;eh>=0;--eh){var em=ef.changes[eh];em.origin=ek;if(eg&&!cy(en,em,false)){(ek=="undo"?ej.done:ej.undone).length=0;return}el.changes.push(ck(en,em));var ee=eh?dA(en,em,null):{anchor:ef.anchorBefore,head:ef.headBefore};cK(en,em,ee,cH(en,em));var ei=[];cF(en,function(ep,eo){if(!eo&&cd(ei,ep.history)==-1){cr(ep.history,em);ei.push(ep.history)}cK(ep,em,null,cH(ep,em))})}}function dD(ee,eg){function ef(eh){return I(eh.line+eg,eh.ch)}ee.first+=eg;if(ee.cm){O(ee.cm,ee.first,ee.first,eg)}ee.sel.head=ef(ee.sel.head);ee.sel.anchor=ef(ee.sel.anchor);ee.sel.from=ef(ee.sel.from);ee.sel.to=ef(ee.sel.to)}function cK(ei,ej,eh,ef){if(ei.cm&&!ei.cm.curOp){return b2(ei.cm,cK)(ei,ej,eh,ef)}if(ej.to.line<ei.first){dD(ei,ej.text.length-1-(ej.to.line-ej.from.line));return}if(ej.from.line>ei.lastLine()){return}if(ej.from.line<ei.first){var ee=ej.text.length-1-(ei.first-ej.from.line);dD(ei,ee);ej={from:I(ei.first,0),to:I(ej.to.line+ee,ej.to.ch),text:[dS(ej.text)],origin:ej.origin}}var eg=ei.lastLine();if(ej.to.line>eg){ej={from:ej.from,to:I(eg,dv(ei,eg).text.length),text:[ej.text[0]],origin:ej.origin}}ej.removed=d5(ei,ej.from,ej.to);if(!eh){eh=dA(ei,ej,null)}if(ei.cm){aj(ei.cm,ej,ef,eh)}else{dN(ei,ej,ef,eh)}}function aj(eo,ek,eh,ee){var en=eo.doc,ej=eo.display,el=ek.from,em=ek.to;var ef=false,eg=el.line;if(!eo.options.lineWrapping){eg=a8(t(en,dv(en,el.line)));en.iter(eg,em.line+1,function(er){if(er==ej.maxLine){ef=true;return true}})}if(!dw(en.sel.head,ek.from)&&!dw(ek.to,en.sel.head)){eo.curOp.cursorActivity=true}dN(en,ek,eh,ee,aE(eo));if(!eo.options.lineWrapping){en.iter(eg,el.line+ek.text.length,function(es){var er=cR(en,es);if(er>ej.maxLineLength){ej.maxLine=es;ej.maxLineLength=er;ej.maxLineChanged=true;ef=false}});if(ef){eo.curOp.updateMaxLine=true}}en.frontier=Math.min(en.frontier,el.line);cM(eo,400);var eq=ek.text.length-(em.line-el.line)-1;O(eo,el.line,em.line+1,eq);if(dB(eo,"change")){var ei={from:el,to:em,text:ek.text,removed:ek.removed,origin:ek.origin};if(eo.curOp.textChanged){for(var ep=eo.curOp.textChanged;ep.next;ep=ep.next){}ep.next=ei}else{eo.curOp.textChanged=ei}}}function ax(eh,eg,ej,ei,ee){if(!ei){ei=ej}if(dw(ei,ej)){var ef=ei;ei=ej;ej=ef}if(typeof eg=="string"){eg=aw(eg)}aG(eh,{from:ej,to:ei,text:eg,origin:ee},null)}function I(ee,ef){if(!(this instanceof I)){return new I(ee,ef)}this.line=ee;this.ch=ef}z.Pos=I;function dT(ef,ee){return ef.line==ee.line&&ef.ch==ee.ch}function dw(ef,ee){return ef.line<ee.line||(ef.line==ee.line&&ef.ch<ee.ch)}function bv(ee){return I(ee.line,ee.ch)}function b4(ee,ef){return Math.max(ee.first,Math.min(ef,ee.first+ee.size-1))}function dU(ef,eg){if(eg.line<ef.first){return I(ef.first,0)}var ee=ef.first+ef.size-1;if(eg.line>ee){return I(ee,dv(ef,ee).text.length)}return dI(eg,dv(ef,eg.line).text.length)}function dI(eg,ef){var ee=eg.ch;if(ee==null||ee>ef){return I(eg.line,ef)}else{if(ee<0){return I(eg.line,0)}else{return eg}}}function bn(ef,ee){return ee>=ef.first&&ee<ef.first+ef.size}function d1(ei,ej,ee,ef){if(ei.sel.shift||ei.sel.extend){var eh=ei.sel.anchor;if(ee){var eg=dw(ej,eh);if(eg!=dw(ee,eh)){eh=ej;ej=ee}else{if(eg!=dw(ej,ee)){ej=ee}}}bd(ei,eh,ej,ef)}else{bd(ei,ej,ee||ej,ef)}if(ei.cm){ei.cm.curOp.userSelChange=true}}function c(eh,ee,ef){var eg={anchor:ee,head:ef};af(eh,"beforeSelectionChange",eh,eg);if(eh.cm){af(eh.cm,"beforeSelectionChange",eh.cm,eg)}eg.anchor=dU(eh,eg.anchor);eg.head=dU(eh,eg.head);return eg}function bd(el,ei,ej,eg,ef){if(!ef&&dB(el,"beforeSelectionChange")||el.cm&&dB(el.cm,"beforeSelectionChange")){var eh=c(el,ei,ej);ej=eh.head;ei=eh.anchor}var ek=el.sel;ek.goalColumn=null;if(ef||!dT(ei,ek.anchor)){ei=be(el,ei,eg,ef!="push")}if(ef||!dT(ej,ek.head)){ej=be(el,ej,eg,ef!="push")}if(dT(ek.anchor,ei)&&dT(ek.head,ej)){return}ek.anchor=ei;ek.head=ej;var ee=dw(ej,ei);ek.from=ee?ej:ei;ek.to=ee?ei:ej;if(el.cm){el.cm.curOp.updateInput=el.cm.curOp.selectionChanged=el.cm.curOp.cursorActivity=true}M(el,"cursorActivity",el)}function cY(ee){bd(ee.doc,ee.doc.sel.from,ee.doc.sel.to,null,"push")}function be(en,em,ej,ek){var eo=false,eg=em;var eh=ej||1;en.cantEdit=false;search:for(;;){var ep=dv(en,eg.line);if(ep.markedSpans){for(var ei=0;ei<ep.markedSpans.length;++ei){var ee=ep.markedSpans[ei],ef=ee.marker;if((ee.from==null||(ef.inclusiveLeft?ee.from<=eg.ch:ee.from<eg.ch))&&(ee.to==null||(ef.inclusiveRight?ee.to>=eg.ch:ee.to>eg.ch))){if(ek){af(ef,"beforeCursorEnter");if(ef.explicitlyCleared){if(!ep.markedSpans){break}else{--ei;continue}}}if(!ef.atomic){continue}var el=ef.find()[eh<0?"from":"to"];if(dT(el,eg)){el.ch+=eh;if(el.ch<0){if(el.line>en.first){el=dU(en,I(el.line-1))}else{el=null}}else{if(el.ch>ep.text.length){if(el.line<en.first+en.size-1){el=I(el.line+1,0)}else{el=null}}}if(!el){if(eo){if(!ek){return be(en,em,ej,true)}en.cantEdit=true;return I(en.first,0)}eo=true;el=em;eh=-eh}}eg=el;continue search}}}return eg}}function ac(ef){var ei=v(ef,ef.doc.sel.head,ef.options.cursorScrollMargin);if(!ef.state.focused){return}var ej=ef.display,eg=al(ej.sizer),ee=null;if(ei.top+eg.top<0){ee=true}else{if(ei.bottom+eg.top>(window.innerHeight||document.documentElement.clientHeight)){ee=false}}if(ee!=null&&!dJ){var eh=ej.cursor.style.display=="none";if(eh){ej.cursor.style.display="";ej.cursor.style.left=ei.left+"px";ej.cursor.style.top=(ei.top-ej.viewOffset)+"px"}ej.cursor.scrollIntoView(ee);if(eh){ej.cursor.style.display="none"}}}function v(ee,el,ei){if(ei==null){ei=0}for(;;){var ej=false,eh=cz(ee,el);var ek=y(ee,eh.left,eh.top-ei,eh.left,eh.bottom+ei);var ef=ee.doc.scrollTop,eg=ee.doc.scrollLeft;if(ek.scrollTop!=null){D(ee,ek.scrollTop);if(Math.abs(ee.doc.scrollTop-ef)>1){ej=true}}if(ek.scrollLeft!=null){aZ(ee,ek.scrollLeft);if(Math.abs(ee.doc.scrollLeft-eg)>1){ej=true}}if(!ej){return eh}}}function x(ee,eg,ei,ef,eh){var ej=y(ee,eg,ei,ef,eh);if(ej.scrollTop!=null){D(ee,ej.scrollTop)}if(ej.scrollLeft!=null){aZ(ee,ej.scrollLeft)}}function y(ek,es,eh,er,eg){var ep=ek.display,eo=au(ek.display);if(eh<0){eh=0}var ef=ep.scroller.clientHeight-aJ,en=ep.scroller.scrollTop,em={};var eu=ek.doc.height+a3(ep);var ev=eh<eo,eq=eg>eu-eo;if(eh<en){em.scrollTop=ev?0:eh}else{if(eg>en+ef){var el=Math.min(eh,(eq?eu:eg)-ef);if(el!=en){em.scrollTop=el}}}var ej=ep.scroller.clientWidth-aJ,ee=ep.scroller.scrollLeft;es+=ep.gutters.offsetWidth;er+=ep.gutters.offsetWidth;var ei=ep.gutters.offsetWidth;var et=es<ei+10;if(es<ee+ei||et){if(et){es=0}em.scrollLeft=Math.max(0,es-10-ei)}else{if(er>ej+ee-3){em.scrollLeft=er+10-ej}}return em}function w(ee,eg,ef){ee.curOp.updateScrollPos={scrollLeft:eg==null?ee.doc.scrollLeft:eg,scrollTop:ef==null?ee.doc.scrollTop:ef}}function bT(ef,eh,eg){var ei=ef.curOp.updateScrollPos||(ef.curOp.updateScrollPos={scrollLeft:ef.doc.scrollLeft,scrollTop:ef.doc.scrollTop});var ee=ef.display.scroller;ei.scrollTop=Math.max(0,Math.min(ee.scrollHeight-ee.clientHeight,ei.scrollTop+eg));ei.scrollLeft=Math.max(0,Math.min(ee.scrollWidth-ee.clientWidth,ei.scrollLeft+eh))}function L(eq,eh,ep,eg){var eo=eq.doc;if(ep==null){ep="add"}if(ep=="smart"){if(!eq.doc.mode.indent){ep="prev"}else{var ef=co(eq,eh)}}var ek=eq.options.tabSize;var er=dv(eo,eh),ej=bb(er.text,null,ek);var ee=er.text.match(/^\s*/)[0],em;if(ep=="smart"){em=eq.doc.mode.indent(ef,er.text.slice(ee.length),er.text);if(em==bp){if(!eg){return}ep="prev"}}if(ep=="prev"){if(eh>eo.first){em=bb(dv(eo,eh-1).text,null,ek)}else{em=0}}else{if(ep=="add"){em=ej+eq.options.indentUnit}else{if(ep=="subtract"){em=ej-eq.options.indentUnit}else{if(typeof ep=="number"){em=ej+ep}}}}em=Math.max(0,em);var en="",el=0;if(eq.options.indentWithTabs){for(var ei=Math.floor(em/ek);ei;--ei){el+=ek;en+="\t"}}if(el<em){en+=bC(em-el)}if(en!=ee){ax(eq.doc,en,I(eh,0),I(eh,ee.length),"+input")}er.stateAfter=null}function c0(ee,eg,ej){var ei=eg,ef=eg,eh=ee.doc;if(typeof eg=="number"){ef=dv(eh,b4(eh,eg))}else{ei=a8(eg)}if(ei==null){return null}if(ej(ef,ei)){O(ee,ei,ei+1)}else{return null}return ef}function aV(ev,eh,ep,eo,ej){var em=eh.line,en=eh.ch,eu=ep;var ee=dv(ev,em);var es=true;function et(){var ew=em+ep;if(ew<ev.first||ew>=ev.first+ev.size){return(es=false)}em=ew;return ee=dv(ev,ew)}function er(ex){var ew=(ej?q:P)(ee,en,ep,true);if(ew==null){if(!ex&&et()){if(ej){en=(ep<0?bX:bN)(ee)}else{en=ep<0?ee.text.length:0}}else{return(es=false)}}else{en=ew}return true}if(eo=="char"){er()}else{if(eo=="column"){er(true)}else{if(eo=="word"||eo=="group"){var eq=null,ek=eo=="group";for(var ei=true;;ei=false){if(ep<0&&!er(!ei)){break}var ef=ee.text.charAt(en)||"\n";var eg=bK(ef)?"w":!ek?null:/\s/.test(ef)?null:"p";if(eq&&eq!=eg){if(ep<0){ep=1;er()}break}if(eg){eq=eg}if(ep>0&&!er(!ei)){break}}}}}var el=be(ev,I(em,en),eu,true);if(!es){el.hitSide=true}return el}function aR(em,eh,ee,el){var ek=em.doc,ej=eh.left,ei;if(el=="page"){var eg=Math.min(em.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);ei=eh.top+ee*(eg-(ee<0?1.5:0.5)*au(em.display))}else{if(el=="line"){ei=ee>0?eh.bottom+3:eh.top-3}}for(;;){var ef=dY(em,ej,ei);if(!ef.outside){break}if(ee<0?ei<=0:ei>=ek.height){ef.hitSide=true;break}ei+=ee*5}return ef}function Z(eh,ej){var ei=ej.ch,eg=ej.ch;if(eh){if(ej.xRel<0||eg==eh.length){--ei}else{++eg}var ef=eh.charAt(ei);var ee=bK(ef)?bK:/\s/.test(ef)?function(ek){return/\s/.test(ek)}:function(ek){return !/\s/.test(ek)&&!bK(ek)};while(ei>0&&ee(eh.charAt(ei-1))){--ei}while(eg<eh.length&&ee(eh.charAt(eg))){++eg}}return{from:I(ej.line,ei),to:I(ej.line,eg)}}function aL(ee,ef){d1(ee.doc,I(ef,0),dU(ee.doc,I(ef+1,0)))}z.prototype={constructor:z,focus:function(){window.focus();c2(this);bL(this);u(this)},setOption:function(eg,eh){var ef=this.options,ee=ef[eg];if(ef[eg]==eh&&eg!="mode"){return}ef[eg]=eh;if(aF.hasOwnProperty(eg)){b2(this,aF[eg])(this,eh,ee)}},getOption:function(ee){return this.options[ee]},getDoc:function(){return this.doc},addKeyMap:function(ef,ee){this.state.keyMaps[ee?"push":"unshift"](ef)},removeKeyMap:function(ef){var eg=this.state.keyMaps;for(var ee=0;ee<eg.length;++ee){if((typeof ef=="string"?eg[ee].name:eg[ee])==ef){eg.splice(ee,1);return true}}},addOverlay:b2(null,function(ee,ef){var eg=ee.token?ee:z.getMode(this.options,ee);if(eg.startState){throw new Error("Overlays may not be stateful.")}this.state.overlays.push({mode:eg,modeSpec:ee,opaque:ef&&ef.opaque});this.state.modeGen++;O(this)}),removeOverlay:b2(null,function(ee){var eg=this.state.overlays;for(var ef=0;ef<eg.length;++ef){var eh=eg[ef].modeSpec;if(eh==ee||typeof ee=="string"&&eh.name==ee){eg.splice(ef,1);this.state.modeGen++;O(this);return}}}),indentLine:b2(null,function(eg,ee,ef){if(typeof ee!="string"&&typeof ee!="number"){if(ee==null){ee=this.options.smartIndent?"smart":"prev"}else{ee=ee?"add":"subtract"}}if(bn(this.doc,eg)){L(this,eg,ee,ef)}}),indentSelection:b2(null,function(ef){var eg=this.doc.sel;if(dT(eg.from,eg.to)){return L(this,eg.from.line,ef)}var eh=eg.to.line-(eg.to.ch?0:1);for(var ee=eg.from.line;ee<=eh;++ee){L(this,ee,ef)}}),getTokenAt:function(el,ef){var ei=this.doc;el=dU(ei,el);var eh=co(this,el.line,ef),ek=this.doc.mode;var ee=dv(ei,el.line);var ej=new dg(ee.text,this.options.tabSize);while(ej.pos<el.ch&&!ej.eol()){ej.start=ej.pos;var eg=ek.token(ej,eh)}return{start:ej.start,end:ej.pos,string:ej.current(),className:eg||null,type:eg||null,state:eh}},getTokenTypeAt:function(ej){ej=dU(this.doc,ej);var eg=b7(this,dv(this.doc,ej.line));var eh=0,ei=(eg.length-1)/2,ef=ej.ch;for(;;){var ee=(eh+ei)>>1;if((ee?eg[ee*2-1]:0)>=ef){ei=ee}else{if(eg[ee*2+1]<ef){eh=ee+1}else{return eg[ee*2+2]}}}},getStateAfter:function(ef,ee){var eg=this.doc;ef=b4(eg,ef==null?eg.first+eg.size-1:ef);return co(this,ef+1,ee)},cursorCoords:function(eh,ef){var eg,ee=this.doc.sel;if(eh==null){eg=ee.head}else{if(typeof eh=="object"){eg=dU(this.doc,eh)}else{eg=eh?ee.from:ee.to}}return cz(this,eg,ef||"page")},charCoords:function(ef,ee){return bS(this,dU(this.doc,ef),ee||"page")},coordsChar:function(ee,ef){ee=eb(this,ee,ef||"page");return dY(this,ee.left,ee.top)},lineAtHeight:function(ee,ef){ee=eb(this,{top:ee,left:0},ef||"page").top;return a1(this.doc,ee+this.display.viewOffset)},heightAtLine:function(ef,ei){var ee=false,eh=this.doc.first+this.doc.size-1;if(ef<this.doc.first){ef=this.doc.first}else{if(ef>eh){ef=eh;ee=true}}var eg=dv(this.doc,ef);return de(this,dv(this.doc,ef),{top:0,left:0},ei||"page").top+(ee?eg.height:0)},defaultTextHeight:function(){return au(this.display)},defaultCharWidth:function(){return cq(this.display)},setGutterMarker:b2(null,function(ee,ef,eg){return c0(this,ee,function(eh){var ei=eh.gutterMarkers||(eh.gutterMarkers={});ei[ef]=eg;if(!eg&&dh(ei)){eh.gutterMarkers=null}return true})}),clearGutter:b2(null,function(eg){var ee=this,eh=ee.doc,ef=eh.first;eh.iter(function(ei){if(ei.gutterMarkers&&ei.gutterMarkers[eg]){ei.gutterMarkers[eg]=null;O(ee,ef,ef+1);if(dh(ei.gutterMarkers)){ei.gutterMarkers=null}}++ef})}),addLineClass:b2(null,function(eg,ef,ee){return c0(this,eg,function(eh){var ei=ef=="text"?"textClass":ef=="background"?"bgClass":"wrapClass";if(!eh[ei]){eh[ei]=ee}else{if(new RegExp("(?:^|\\s)"+ee+"(?:$|\\s)").test(eh[ei])){return false}else{eh[ei]+=" "+ee}}return true})}),removeLineClass:b2(null,function(eg,ef,ee){return c0(this,eg,function(ei){var el=ef=="text"?"textClass":ef=="background"?"bgClass":"wrapClass";var ek=ei[el];if(!ek){return false}else{if(ee==null){ei[el]=null}else{var ej=ek.match(new RegExp("(?:^|\\s+)"+ee+"(?:$|\\s+)"));if(!ej){return false}var eh=ej.index+ej[0].length;ei[el]=ek.slice(0,ej.index)+(!ej.index||eh==ek.length?"":" ")+ek.slice(eh)||null}}return true})}),addLineWidget:b2(null,function(eg,ef,ee){return a2(this,eg,ef,ee)}),removeLineWidget:function(ee){ee.clear()},lineInfo:function(ee){if(typeof ee=="number"){if(!bn(this.doc,ee)){return null}var ef=ee;ee=dv(this.doc,ee);if(!ee){return null}}else{var ef=a8(ee);if(ef==null){return null}}return{line:ef,handle:ee,text:ee.text,gutterMarkers:ee.gutterMarkers,textClass:ee.textClass,bgClass:ee.bgClass,wrapClass:ee.wrapClass,widgets:ee.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(ej,eg,el,eh,en){var ei=this.display;ej=cz(this,dU(this.doc,ej));var ek=ej.bottom,ef=ej.left;eg.style.position="absolute";ei.sizer.appendChild(eg);if(eh=="over"){ek=ej.top}else{if(eh=="above"||eh=="near"){var ee=Math.max(ei.wrapper.clientHeight,this.doc.height),em=Math.max(ei.sizer.clientWidth,ei.lineSpace.clientWidth);if((eh=="above"||ej.bottom+eg.offsetHeight>ee)&&ej.top>eg.offsetHeight){ek=ej.top-eg.offsetHeight}else{if(ej.bottom+eg.offsetHeight<=ee){ek=ej.bottom}}if(ef+eg.offsetWidth>em){ef=em-eg.offsetWidth}}}eg.style.top=ek+"px";eg.style.left=eg.style.right="";if(en=="right"){ef=ei.sizer.clientWidth-eg.offsetWidth;eg.style.right="0px"}else{if(en=="left"){ef=0}else{if(en=="middle"){ef=(ei.sizer.clientWidth-eg.offsetWidth)/2}}eg.style.left=ef+"px"}if(el){x(this,ef,ek,ef+eg.offsetWidth,ek+eg.offsetHeight)}},triggerOnKeyDown:b2(null,m),execCommand:function(ee){return c4[ee](this)},findPosH:function(ek,eh,ei,ef){var ee=1;if(eh<0){ee=-1;eh=-eh}for(var eg=0,ej=dU(this.doc,ek);eg<eh;++eg){ej=aV(this.doc,ej,ee,ei,ef);if(ej.hitSide){break}}return ej},moveH:b2(null,function(ee,ef){var eg=this.doc.sel,eh;if(eg.shift||eg.extend||dT(eg.from,eg.to)){eh=aV(this.doc,eg.head,ee,ef,this.options.rtlMoveVisually)}else{eh=ee<0?eg.from:eg.to}d1(this.doc,eh,eh,ee)}),deleteH:b2(null,function(ee,ef){var eg=this.doc.sel;if(!dT(eg.from,eg.to)){ax(this.doc,"",eg.from,eg.to,"+delete")}else{ax(this.doc,"",eg.from,aV(this.doc,eg.head,ee,ef,false),"+delete")}this.curOp.userSelChange=true}),findPosV:function(ej,eg,ek,em){var ee=1,ei=em;if(eg<0){ee=-1;eg=-eg}for(var ef=0,el=dU(this.doc,ej);ef<eg;++ef){var eh=cz(this,el,"div");if(ei==null){ei=eh.left}else{eh.left=ei}el=aR(this,eh,ee,ek);if(el.hitSide){break}}return el},moveV:b2(null,function(ee,ef){var eg=this.doc.sel;var ei=cz(this,eg.head,"div");if(eg.goalColumn!=null){ei.left=eg.goalColumn}var eh=aR(this,ei,ee,ef);if(ef=="page"){bT(this,0,bS(this,eh,"div").top-ei.top)}d1(this.doc,eh,eh,ee);eg.goalColumn=ei.left}),toggleOverwrite:function(ee){if(ee!=null&&ee==this.state.overwrite){return}if(this.state.overwrite=!this.state.overwrite){this.display.cursor.className+=" CodeMirror-overwrite"}else{this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite","")}},hasFocus:function(){return this.state.focused},scrollTo:b2(null,function(ee,ef){w(this,ee,ef)}),getScrollInfo:function(){var ee=this.display.scroller,ef=aJ;return{left:ee.scrollLeft,top:ee.scrollTop,height:ee.scrollHeight-ef,width:ee.scrollWidth-ef,clientHeight:ee.clientHeight-ef,clientWidth:ee.clientWidth-ef}},scrollIntoView:b2(null,function(eh,eg){if(typeof eh=="number"){eh=I(eh,0)}if(!eg){eg=0}var ef=eh;if(!eh||eh.line!=null){this.curOp.scrollToPos=eh?dU(this.doc,eh):this.doc.sel.head;this.curOp.scrollToPosMargin=eg;ef=cz(this,this.curOp.scrollToPos)}var ee=y(this,ef.left,ef.top-eg,ef.right,ef.bottom+eg);w(this,ee.scrollLeft,ee.scrollTop)}),setSize:function(eg,ee){function ef(eh){return typeof eh=="number"||/^\d+$/.test(String(eh))?eh+"px":eh}if(eg!=null){this.display.wrapper.style.width=ef(eg)}if(ee!=null){this.display.wrapper.style.height=ef(ee)}this.refresh()},on:function(ee,ef){bf(this,ee,ef)},off:function(ee,ef){cL(this,ee,ef)},operation:function(ee){return bU(this,ee)},refresh:b2(null,function(){R(this);w(this,this.doc.scrollLeft,this.doc.scrollTop);O(this)}),swapDoc:b2(null,function(ef){var ee=this.doc;ee.cm=null;cI(this,ef);R(this);dF(this,true);w(this,ef.scrollLeft,ef.scrollTop);return ee}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};var aF=z.optionHandlers={};var dn=z.defaults={};function o(ee,eh,eg,ef){z.defaults[ee]=eh;if(eg){aF[ee]=ef?function(ei,ek,ej){if(ej!=bq){eg(ei,ek,ej)}}:eg}}var bq=z.Init={toString:function(){return"CodeMirror.Init"}};o("value","",function(ee,ef){ee.setValue(ef)},true);o("mode",null,function(ee,ef){ee.doc.modeOption=ef;aS(ee)},true);o("indentUnit",2,aS,true);o("indentWithTabs",false);o("smartIndent",true);o("tabSize",4,function(ee){aS(ee);R(ee);O(ee)},true);o("electricChars",true);o("rtlMoveVisually",!am);o("theme","default",function(ee){bV(ee);cl(ee)},true);o("keyMap","default",ec);o("extraKeys",null);o("onKeyEvent",null);o("onDragEvent",null);o("lineWrapping",false,da,true);o("gutters",[],function(ee){bs(ee.options);cl(ee)},true);o("fixedGutter",true,function(ee,ef){ee.display.gutters.style.left=ef?cB(ee.display)+"px":"0";ee.refresh()},true);o("coverGutterNextToScrollbar",false,dj,true);o("lineNumbers",false,function(ee){bs(ee.options);cl(ee)},true);o("firstLineNumber",1,cl,true);o("lineNumberFormatter",function(ee){return ee},cl,true);o("showCursorWhenSelecting",false,aY,true);o("readOnly",false,function(ee,ef){if(ef=="nocursor"){ar(ee);ee.display.input.blur()}else{if(!ef){dF(ee,true)}}});o("dragDrop",true);o("cursorBlinkRate",530);o("cursorScrollMargin",0);o("cursorHeight",1);o("workTime",100);o("workDelay",100);o("flattenSpans",true);o("pollInterval",100);o("undoDepth",40,function(ee,ef){ee.doc.history.undoDepth=ef});o("historyEventDelay",500);o("viewportMargin",10,function(ee){ee.refresh()},true);o("maxHighlightLength",10000,function(ee){aS(ee);ee.refresh()},true);o("moveInputWithCursor",true,function(ee,ef){if(!ef){ee.display.inputDiv.style.top=ee.display.inputDiv.style.left=0}});o("tabindex",null,function(ee,ef){ee.display.input.tabIndex=ef||""});o("autofocus",null);var ci=z.modes={},aq=z.mimeModes={};z.defineMode=function(ee,eg){if(!z.defaults.mode&&ee!="null"){z.defaults.mode=ee}if(arguments.length>2){eg.dependencies=[];for(var ef=2;ef<arguments.length;++ef){eg.dependencies.push(arguments[ef])}}ci[ee]=eg};z.defineMIME=function(ef,ee){aq[ef]=ee};z.resolveMode=function(ee){if(typeof ee=="string"&&aq.hasOwnProperty(ee)){ee=aq[ee]}else{if(ee&&typeof ee.name=="string"&&aq.hasOwnProperty(ee.name)){var ef=aq[ee.name];ee=bw(ef,ee);ee.name=ef.name}else{if(typeof ee=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(ee)){return z.resolveMode("application/xml")}}}if(typeof ee=="string"){return{name:ee}}else{return ee||{name:"null"}}};z.getMode=function(ef,ee){ee=z.resolveMode(ee);var eh=ci[ee.name];if(!eh){return z.getMode(ef,"text/plain")}var ei=eh(ef,ee);if(cg.hasOwnProperty(ee.name)){var eg=cg[ee.name];for(var ej in eg){if(!eg.hasOwnProperty(ej)){continue}if(ei.hasOwnProperty(ej)){ei["_"+ej]=ei[ej]}ei[ej]=eg[ej]}}ei.name=ee.name;return ei};z.defineMode("null",function(){return{token:function(ee){ee.skipToEnd()}}});z.defineMIME("text/plain","null");var cg=z.modeExtensions={};z.extendMode=function(eg,ef){var ee=cg.hasOwnProperty(eg)?cg[eg]:(cg[eg]={});ak(ef,ee)};z.defineExtension=function(ee,ef){z.prototype[ee]=ef};z.defineDocExtension=function(ee,ef){Y.prototype[ee]=ef};z.defineOption=o;var aA=[];z.defineInitHook=function(ee){aA.push(ee)};function bi(eh,ee){if(ee===true){return ee}if(eh.copyState){return eh.copyState(ee)}var eg={};for(var ei in ee){var ef=ee[ei];if(ef instanceof Array){ef=ef.concat([])}eg[ei]=ef}return eg}z.copyState=bi;function bh(eg,ef,ee){return eg.startState?eg.startState(ef,ee):true}z.startState=bh;z.innerMode=function(eg,ee){while(eg.innerMode){var ef=eg.innerMode(ee);ee=ef.state;eg=ef.mode}return ef||{mode:eg,state:ee}};var c4=z.commands={selectAll:function(ee){ee.setSelection(I(ee.firstLine(),0),I(ee.lastLine()))},killLine:function(ee){var eh=ee.getCursor(true),eg=ee.getCursor(false),ef=!dT(eh,eg);if(!ef&&ee.getLine(eh.line).length==eh.ch){ee.replaceRange("",eh,I(eh.line+1,0),"+delete")}else{ee.replaceRange("",eh,ef?eg:I(eh.line),"+delete")}},deleteLine:function(ee){var ef=ee.getCursor().line;ee.replaceRange("",I(ef,0),I(ef),"+delete")},delLineLeft:function(ee){var ef=ee.getCursor();ee.replaceRange("",I(ef.line,0),ef,"+delete")},undo:function(ee){ee.undo()},redo:function(ee){ee.redo()},goDocStart:function(ee){ee.extendSelection(I(ee.firstLine(),0))},goDocEnd:function(ee){ee.extendSelection(I(ee.lastLine()))},goLineStart:function(ee){ee.extendSelection(aU(ee,ee.getCursor().line))},goLineStartSmart:function(ef){var ej=ef.getCursor(),ek=aU(ef,ej.line);var eg=ef.getLineHandle(ek.line);var ee=a(eg);if(!ee||ee[0].level==0){var ei=Math.max(0,eg.text.search(/\S/));var eh=ej.line==ek.line&&ej.ch<=ei&&ej.ch;ef.extendSelection(I(ek.line,eh?0:ei))}else{ef.extendSelection(ek)}},goLineEnd:function(ee){ee.extendSelection(cx(ee,ee.getCursor().line))},goLineRight:function(ee){var ef=ee.charCoords(ee.getCursor(),"div").top+5;ee.extendSelection(ee.coordsChar({left:ee.display.lineDiv.offsetWidth+100,top:ef},"div"))},goLineLeft:function(ee){var ef=ee.charCoords(ee.getCursor(),"div").top+5;ee.extendSelection(ee.coordsChar({left:0,top:ef},"div"))},goLineUp:function(ee){ee.moveV(-1,"line")},goLineDown:function(ee){ee.moveV(1,"line")},goPageUp:function(ee){ee.moveV(-1,"page")},goPageDown:function(ee){ee.moveV(1,"page")},goCharLeft:function(ee){ee.moveH(-1,"char")},goCharRight:function(ee){ee.moveH(1,"char")},goColumnLeft:function(ee){ee.moveH(-1,"column")},goColumnRight:function(ee){ee.moveH(1,"column")},goWordLeft:function(ee){ee.moveH(-1,"word")},goGroupRight:function(ee){ee.moveH(1,"group")},goGroupLeft:function(ee){ee.moveH(-1,"group")},goWordRight:function(ee){ee.moveH(1,"word")},delCharBefore:function(ee){ee.deleteH(-1,"char")},delCharAfter:function(ee){ee.deleteH(1,"char")},delWordBefore:function(ee){ee.deleteH(-1,"word")},delWordAfter:function(ee){ee.deleteH(1,"word")},delGroupBefore:function(ee){ee.deleteH(-1,"group")},delGroupAfter:function(ee){ee.deleteH(1,"group")},indentAuto:function(ee){ee.indentSelection("smart")},indentMore:function(ee){ee.indentSelection("add")},indentLess:function(ee){ee.indentSelection("subtract")},insertTab:function(ee){ee.replaceSelection("\t","end","+input")},defaultTab:function(ee){if(ee.somethingSelected()){ee.indentSelection("add")}else{ee.replaceSelection("\t","end","+input")}},transposeChars:function(ee){var eg=ee.getCursor(),ef=ee.getLine(eg.line);if(eg.ch>0&&eg.ch<ef.length-1){ee.replaceRange(ef.charAt(eg.ch)+ef.charAt(eg.ch-1),I(eg.line,eg.ch-1),I(eg.line,eg.ch+1))}},newlineAndIndent:function(ee){b2(ee,function(){ee.replaceSelection("\n","end","+input");ee.indentLine(ee.getCursor().line,null,true)})()},toggleOverwrite:function(ee){ee.toggleOverwrite()}};var ds=z.keyMap={};ds.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};ds.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};ds.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft",fallthrough:["basic","emacsy"]};ds["default"]=bk?ds.macDefault:ds.pcDefault;ds.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};function d2(ee){if(typeof ee=="string"){return ds[ee]}else{return ee}}function g(ef,ej,eh){function ei(ep){ep=d2(ep);var en=ep[ef];if(en===false){return"stop"}if(en!=null&&eh(en)){return true}if(ep.nofallthrough){return"stop"}var em=ep.fallthrough;if(em==null){return false}if(Object.prototype.toString.call(em)!="[object Array]"){return ei(em)}for(var el=0,eo=em.length;el<eo;++el){var ek=ei(em[el]);if(ek){return ek}}return false}for(var eg=0;eg<ej.length;++eg){var ee=ei(ej[eg]);if(ee){return ee!="stop"}}}function c3(ef){var ee=dx[ef.keyCode];return ee=="Ctrl"||ee=="Alt"||ee=="Shift"||ee=="Mod"}function dH(ef,eg){if(dM&&ef.keyCode==34&&ef["char"]){return false}var ee=dx[ef.keyCode];if(ee==null||ef.altGraphKey){return false}if(ef.altKey){ee="Alt-"+ee}if(ba?ef.metaKey:ef.ctrlKey){ee="Ctrl-"+ee}if(ba?ef.ctrlKey:ef.metaKey){ee="Cmd-"+ee}if(!eg&&ef.shiftKey){ee="Shift-"+ee}return ee}z.lookupKey=g;z.isModifierKey=c3;z.keyName=dH;z.fromTextArea=function(el,em){if(!em){em={}}em.value=el.value;if(!em.tabindex&&el.tabindex){em.tabindex=el.tabindex}if(!em.placeholder&&el.placeholder){em.placeholder=el.placeholder}if(em.autofocus==null){var ee=document.body;try{ee=document.activeElement}catch(eg){}em.autofocus=ee==el||el.getAttribute("autofocus")!=null&&ee==document.body}function ei(){el.value=ek.getValue()}if(el.form){bf(el.form,"submit",ei);if(!em.leaveSubmitMethodAlone){var ef=el.form,ej=ef.submit;try{var eh=ef.submit=function(){ei();ef.submit=ej;ef.submit();ef.submit=eh}}catch(eg){}}}el.style.display="none";var ek=z(function(en){el.parentNode.insertBefore(en,el.nextSibling)},em);ek.save=ei;ek.getTextArea=function(){return el};ek.toTextArea=function(){ei();el.parentNode.removeChild(ek.getWrapperElement());el.style.display="";if(el.form){cL(el.form,"submit",ei);if(typeof el.form.submit=="function"){el.form.submit=ej}}};return ek};function dg(ee,ef){this.pos=this.start=0;this.string=ee;this.tabSize=ef||8;this.lastColumnPos=this.lastColumnValue=0}dg.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(ee){var eg=this.string.charAt(this.pos);if(typeof ee=="string"){var ef=eg==ee}else{var ef=eg&&(ee.test?ee.test(eg):ee(eg))}if(ef){++this.pos;return eg}},eatWhile:function(ee){var ef=this.pos;while(this.eat(ee)){}return this.pos>ef},eatSpace:function(){var ee=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>ee},skipToEnd:function(){this.pos=this.string.length},skipTo:function(ee){var ef=this.string.indexOf(ee,this.pos);if(ef>-1){this.pos=ef;return true}},backUp:function(ee){this.pos-=ee},column:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=bb(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue},indentation:function(){return bb(this.string,null,this.tabSize)},match:function(ei,ef,ee){if(typeof ei=="string"){var ej=function(ek){return ee?ek.toLowerCase():ek};var eh=this.string.substr(this.pos,ei.length);if(ej(eh)==ej(ei)){if(ef!==false){this.pos+=ei.length}return true}}else{var eg=this.string.slice(this.pos).match(ei);if(eg&&eg.index>0){return null}if(eg&&ef!==false){this.pos+=eg[0].length}return eg}},current:function(){return this.string.slice(this.start,this.pos)}};z.StringStream=dg;function F(ef,ee){this.lines=[];this.type=ee;this.doc=ef}z.TextMarker=F;F.prototype.clear=function(){if(this.explicitlyCleared){return}var el=this.doc.cm,ef=el&&!el.curOp;if(ef){bR(el)}var eg=null,ej=null;for(var eh=0;eh<this.lines.length;++eh){var em=this.lines[eh];var ek=dr(em.markedSpans,this);if(ek.to!=null){ej=a8(em)}em.markedSpans=db(em.markedSpans,ek);if(ek.from!=null){eg=a8(em)}else{if(this.collapsed&&!dK(this.doc,em)&&el){d7(em,au(el.display))}}}if(el&&this.collapsed&&!el.options.lineWrapping){for(var eh=0;eh<this.lines.length;++eh){var ee=t(el.doc,this.lines[eh]),ei=cR(el.doc,ee);if(ei>el.display.maxLineLength){el.display.maxLine=ee;el.display.maxLineLength=ei;el.display.maxLineChanged=true}}}if(eg!=null&&el){O(el,eg,ej+1)}this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(el){cY(el)}}if(ef){U(el)}M(this,"clear")};F.prototype.find=function(){var ej,ei;for(var ef=0;ef<this.lines.length;++ef){var ee=this.lines[ef];var eg=dr(ee.markedSpans,this);if(eg.from!=null||eg.to!=null){var eh=a8(ee);if(eg.from!=null){ej=I(eh,eg.from)}if(eg.to!=null){ei=I(eh,eg.to)}}}if(this.type=="bookmark"){return ej}return ej&&{from:ej,to:ei}};F.prototype.changed=function(){var eh=this.find(),ee=this.doc.cm;if(!eh||!ee){return}var ef=dv(this.doc,eh.from.line);dX(ee,ef);if(eh.from.line>=ee.display.showingFrom&&eh.from.line<ee.display.showingTo){for(var eg=ee.display.lineDiv.firstChild;eg;eg=eg.nextSibling){if(eg.lineObj==ef){if(eg.offsetHeight!=ef.height){d7(ef,eg.offsetHeight)}break}}bU(ee,function(){ee.curOp.selectionChanged=true})}};F.prototype.attachLine=function(ee){if(!this.lines.length&&this.doc.cm){var ef=this.doc.cm.curOp;if(!ef.maybeHiddenMarkers||cd(ef.maybeHiddenMarkers,this)==-1){(ef.maybeUnhiddenMarkers||(ef.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(ee)};F.prototype.detachLine=function(ee){this.lines.splice(cd(this.lines,ee),1);if(!this.lines.length&&this.doc.cm){var ef=this.doc.cm.curOp;(ef.maybeHiddenMarkers||(ef.maybeHiddenMarkers=[])).push(this)}};function c8(en,el,em,ep,ej){if(ep&&ep.shared){return E(en,el,em,ep,ej)}if(en.cm&&!en.cm.curOp){return b2(en.cm,c8)(en,el,em,ep,ej)}var ei=new F(en,ej);if(ej=="range"&&!dw(el,em)){return ei}if(ep){ak(ep,ei)}if(ei.replacedWith){ei.collapsed=true;ei.replacedWith=d4("span",[ei.replacedWith],"CodeMirror-widget");if(!ep.handleMouseEvents){ei.replacedWith.ignoreEvents=true}}if(ei.collapsed){az=true}if(ei.addToHistory){c9(en,{from:el,to:em,origin:"markText"},{head:en.sel.head,anchor:en.sel.anchor},NaN)}var ef=el.line,eo=0,eh,eg,ek=en.cm,ee;en.iter(ef,em.line+1,function(eq){if(ek&&ei.collapsed&&!ek.options.lineWrapping&&t(en,eq)==ek.display.maxLine){ee=true}var er={from:null,to:null,marker:ei};eo+=eq.text.length;if(ef==el.line){er.from=el.ch;eo-=el.ch}if(ef==em.line){er.to=em.ch;eo-=eq.text.length-em.ch}if(ei.collapsed){if(ef==em.line){eg=aW(eq,em.ch)}if(ef==el.line){eh=aW(eq,el.ch)}else{d7(eq,0)}}br(eq,er);++ef});if(ei.collapsed){en.iter(el.line,em.line+1,function(eq){if(dK(en,eq)){d7(eq,0)}})}if(ei.clearOnEnter){bf(ei,"beforeCursorEnter",function(){ei.clear()})}if(ei.readOnly){d9=true;if(en.history.done.length||en.history.undone.length){en.clearHistory()}}if(ei.collapsed){if(eh!=eg){throw new Error("Inserting collapsed marker overlapping an existing one")}ei.size=eo;ei.atomic=true}if(ek){if(ee){ek.curOp.updateMaxLine=true}if(ei.className||ei.startStyle||ei.endStyle||ei.collapsed){O(ek,el.line,em.line+1)}if(ei.atomic){cY(ek)}}return ei}function s(eh,ef){this.markers=eh;this.primary=ef;for(var ee=0,eg=this;ee<eh.length;++ee){eh[ee].parent=this;bf(eh[ee],"clear",function(){eg.clear()})}}z.SharedTextMarker=s;s.prototype.clear=function(){if(this.explicitlyCleared){return}this.explicitlyCleared=true;for(var ee=0;ee<this.markers.length;++ee){this.markers[ee].clear()}M(this,"clear")};s.prototype.find=function(){return this.primary.find()};function E(ei,el,ek,ee,eg){ee=ak(ee);ee.shared=false;var ej=[c8(ei,el,ek,ee,eg)],ef=ej[0];var eh=ee.replacedWith;cF(ei,function(en){if(eh){ee.replacedWith=eh.cloneNode(true)}ej.push(c8(en,dU(en,el),dU(en,ek),ee,eg));for(var em=0;em<en.linked.length;++em){if(en.linked[em].isParent){return}}ef=dS(ej)});return new s(ej,ef)}function dr(eg,ee){if(eg){for(var ef=0;ef<eg.length;++ef){var eh=eg[ef];if(eh.marker==ee){return eh}}}}function db(ef,eg){for(var eh,ee=0;ee<ef.length;++ee){if(ef[ee]!=eg){(eh||(eh=[])).push(ef[ee])}}return eh}function br(ee,ef){ee.markedSpans=ee.markedSpans?ee.markedSpans.concat([ef]):[ef];ef.marker.attachLine(ee)}function ao(ef,eg,ek){if(ef){for(var ei=0,el;ei<ef.length;++ei){var em=ef[ei],ej=em.marker;var ee=em.from==null||(ej.inclusiveLeft?em.from<=eg:em.from<eg);if(ee||ej.type=="bookmark"&&em.from==eg&&(!ek||!em.marker.insertLeft)){var eh=em.to==null||(ej.inclusiveRight?em.to>=eg:em.to>eg);(el||(el=[])).push({from:em.from,to:eh?null:em.to,marker:ej})}}}return el}function ad(ef,eh,ek){if(ef){for(var ei=0,el;ei<ef.length;++ei){var em=ef[ei],ej=em.marker;var eg=em.to==null||(ej.inclusiveRight?em.to>=eh:em.to>eh);if(eg||ej.type=="bookmark"&&em.from==eh&&(!ek||em.marker.insertLeft)){var ee=em.from==null||(ej.inclusiveLeft?em.from<=eh:em.from<eh);(el||(el=[])).push({from:ee?null:em.from-eh,to:em.to==null?null:em.to-eh,marker:ej})}}}return el}function cQ(eq,en){var em=bn(eq,en.from.line)&&dv(eq,en.from.line).markedSpans;var et=bn(eq,en.to.line)&&dv(eq,en.to.line).markedSpans;if(!em&&!et){return null}var ef=en.from.ch,ei=en.to.ch,el=dT(en.from,en.to);var ek=ao(em,ef,el);var es=ad(et,ei,el);var er=en.text.length==1,eg=dS(en.text).length+(er?ef:0);if(ek){for(var eh=0;eh<ek.length;++eh){var ep=ek[eh];if(ep.to==null){var eu=dr(es,ep.marker);if(!eu){ep.to=ef}else{if(er){ep.to=eu.to==null?null:eu.to+eg}}}}}if(es){for(var eh=0;eh<es.length;++eh){var ep=es[eh];if(ep.to!=null){ep.to+=eg}if(ep.from==null){var eu=dr(ek,ep.marker);if(!eu){ep.from=eg;if(er){(ek||(ek=[])).push(ep)}}}else{ep.from+=eg;if(er){(ek||(ek=[])).push(ep)}}}}if(er&&ek){for(var eh=0;eh<ek.length;++eh){if(ek[eh].from!=null&&ek[eh].from==ek[eh].to&&ek[eh].marker.type!="bookmark"){ek.splice(eh--,1)}}if(!ek.length){ek=null}}var ej=[ek];if(!er){var eo=en.text.length-2,ee;if(eo>0&&ek){for(var eh=0;eh<ek.length;++eh){if(ek[eh].to==null){(ee||(ee=[])).push({from:null,to:null,marker:ek[eh].marker})}}}for(var eh=0;eh<eo;++eh){ej.push(ee)}ej.push(es)}return ej}function cH(em,ek){var ee=bl(em,ek);var en=cQ(em,ek);if(!ee){return en}if(!en){return ee}for(var eh=0;eh<ee.length;++eh){var ei=ee[eh],ej=en[eh];if(ei&&ej){spans:for(var eg=0;eg<ej.length;++eg){var el=ej[eg];for(var ef=0;ef<ei.length;++ef){if(ei[ef].marker==el.marker){continue spans}}ei.push(el)}}else{if(ej){ee[eh]=ej}}}return ee}function bP(eo,em,en){var eh=null;eo.iter(em.line,en.line+1,function(ep){if(ep.markedSpans){for(var eq=0;eq<ep.markedSpans.length;++eq){var er=ep.markedSpans[eq].marker;if(er.readOnly&&(!eh||cd(eh,er)==-1)){(eh||(eh=[])).push(er)}}}});if(!eh){return null}var ei=[{from:em,to:en}];for(var ej=0;ej<eh.length;++ej){var ek=eh[ej],ef=ek.find();for(var eg=0;eg<ei.length;++eg){var ee=ei[eg];if(dw(ee.to,ef.from)||dw(ef.to,ee.from)){continue}var el=[eg,1];if(dw(ee.from,ef.from)||!ek.inclusiveLeft&&dT(ee.from,ef.from)){el.push({from:ee.from,to:ef.from})}if(dw(ef.to,ee.to)||!ek.inclusiveRight&&dT(ee.to,ef.to)){el.push({from:ef.to,to:ee.to})}ei.splice.apply(ei,el);eg+=el.length-1}}return ei}function aW(ef,eh){var ee=az&&ef.markedSpans,ej;if(ee){for(var ei,eg=0;eg<ee.length;++eg){ei=ee[eg];if(!ei.marker.collapsed){continue}if((ei.from==null||ei.from<eh)&&(ei.to==null||ei.to>eh)&&(!ej||ej.width<ei.marker.width)){ej=ei.marker}}}return ej}function dd(ee){return aW(ee,-1)}function cW(ee){return aW(ee,ee.text.length+1)}function t(eg,ef){var ee;while(ee=dd(ef)){ef=dv(eg,ee.find().from.line)}return ef}function dK(ei,ef){var ee=az&&ef.markedSpans;if(ee){for(var eh,eg=0;eg<ee.length;++eg){eh=ee[eg];if(!eh.marker.collapsed){continue}if(eh.from==null){return true}if(eh.marker.replacedWith){continue}if(eh.from==0&&eh.marker.inclusiveLeft&&H(ei,ef,eh)){return true}}}}function H(ek,ef,eh){if(eh.to==null){var ee=eh.marker.find().to,ei=dv(ek,ee.line);return H(ek,ei,dr(ei.markedSpans,eh.marker))}if(eh.marker.inclusiveRight&&eh.to==ef.text.length){return true}for(var ej,eg=0;eg<ef.markedSpans.length;++eg){ej=ef.markedSpans[eg];if(ej.marker.collapsed&&!ej.marker.replacedWith&&ej.from==eh.to&&(ej.marker.inclusiveLeft||eh.marker.inclusiveRight)&&H(ek,ef,ej)){return true}}}function d8(ee){var eg=ee.markedSpans;if(!eg){return}for(var ef=0;ef<eg.length;++ef){eg[ef].marker.detachLine(ee)}ee.markedSpans=null}function b3(ee,eg){if(!eg){return}for(var ef=0;ef<eg.length;++ef){eg[ef].marker.attachLine(ee)}ee.markedSpans=eg}var cp=z.LineWidget=function(ee,eh,ef){for(var eg in ef){if(ef.hasOwnProperty(eg)){this[eg]=ef[eg]}}this.cm=ee;this.node=eh};function C(ee){return function(){var eg=!this.cm.curOp;if(eg){bR(this.cm)}try{var ef=ee.apply(this,arguments)}finally{if(eg){U(this.cm)}}return ef}}cp.prototype.clear=C(function(){var ee=this.line.widgets,eg=a8(this.line);if(eg==null||!ee){return}for(var ef=0;ef<ee.length;++ef){if(ee[ef]==this){ee.splice(ef--,1)}}if(!ee.length){this.line.widgets=null}d7(this.line,Math.max(0,this.line.height-bZ(this)));O(this.cm,eg,eg+1)});cp.prototype.changed=C(function(){var ee=this.height;this.height=null;var ef=bZ(this)-ee;if(!ef){return}d7(this.line,this.line.height+ef);var eg=a8(this.line);O(this.cm,eg,eg+1)});function bZ(ee){if(ee.height!=null){return ee.height}if(!ee.node.parentNode||ee.node.parentNode.nodeType!=1){bc(ee.cm.display.measure,d4("div",[ee.node],null,"position: relative"))}return ee.height=ee.node.offsetHeight}function a2(ee,ei,eg,ef){var eh=new cp(ee,eg,ef);if(eh.noHScroll){ee.display.alignWidgets=true}c0(ee,ei,function(ek){(ek.widgets||(ek.widgets=[])).push(eh);eh.line=ek;if(!dK(ee.doc,ek)||eh.showIfHidden){var ej=a7(ee,ek)<ee.display.scroller.scrollTop;d7(ek,ek.height+bZ(eh));if(ej){bT(ee,0,eh.height)}}return true});return eh}function aM(eh,eg,ee){var ef={text:eh};b3(ef,eg);ef.height=ee?ee(ef):1;return ef}function cS(ef,ei,eg,ee){ef.text=ei;if(ef.stateAfter){ef.stateAfter=null}if(ef.styles){ef.styles=null}if(ef.order!=null){ef.order=null}d8(ef);b3(ef,eg);var eh=ee?ee(ef):1;if(eh!=ef.height){d7(ef,eh)}}function aX(ee){ee.parent=null;d8(ee)}function r(el,en,eh,ef,ei){var eg=eh.flattenSpans;if(eg==null){eg=el.options.flattenSpans}var ek=0,ej=null;var em=new dg(en,el.options.tabSize),ee;if(en==""&&eh.blankLine){eh.blankLine(ef)}while(!em.eol()){if(em.pos>el.options.maxHighlightLength){eg=false;em.pos=Math.min(en.length,em.start+50000);ee=null}else{ee=eh.token(em,ef)}if(!eg||ej!=ee){if(ek<em.start){ei(em.start,ej)}ek=em.start;ej=ee}em.start=em.pos}if(ek<em.pos){ei(em.pos,ej)}}function dP(ef,eg,ek){var ei=[ef.state.modeGen];r(ef,eg.text,ef.doc.mode,ek,function(em,en){ei.push(em,en)});for(var el=0;el<ef.state.overlays.length;++el){var eh=ef.state.overlays[el],ej=1,ee=0;r(ef,eg.text,eh.mode,true,function(em,eo){var eq=ej;while(ee<em){var en=ei[ej];if(en>em){ei.splice(ej,1,em,ei[ej+1],en)}ej+=2;ee=Math.min(em,en)}if(!eo){return}if(eh.opaque){ei.splice(eq,ej-eq,em,eo);ej=eq+2}else{for(;eq<ej;eq+=2){var ep=ei[eq+1];ei[eq+1]=ep?ep+" "+eo:eo}}})}return ei}function b7(ee,ef){if(!ef.styles||ef.styles[0]!=ee.state.modeGen){ef.styles=dP(ee,ef,ef.stateAfter=co(ee,a8(ef)))}return ef.styles}function cm(ee,ef,eg){var ei=ee.doc.mode;var eh=new dg(ef.text,ee.options.tabSize);if(ef.text==""&&ei.blankLine){ei.blankLine(eg)}while(!eh.eol()&&eh.pos<=ee.options.maxHighlightLength){ei.token(eh,eg);eh.start=eh.pos}}var cA={};function j(ee){if(!ee){return null}return cA[ee]||(cA[ee]="cm-"+ee.replace(/ +/g," cm-"))}function cw(em,ep,ee){var en,eq=ep,ej=true;while(en=dd(eq)){eq=dv(em.doc,en.find().from.line)}var ek={pre:d4("pre"),col:0,pos:0,display:!ee,measure:null,measuredSomething:false,cm:em};if(eq.textClass){ek.pre.className=eq.textClass}do{if(eq.text){ej=false}ek.measure=eq==ep&&ee;ek.pos=0;ek.addToken=ek.measure?e:p;if((cs||b1)&&em.getOption("lineWrapping")){ek.addToken=dR(ek.addToken)}var ei=aQ(eq,ek,b7(em,eq));if(ee&&eq==ep&&!ek.measuredSomething){ee[0]=ek.pre.appendChild(aP(em.display.measure));ek.measuredSomething=true}if(ei){eq=dv(em.doc,ei.to.line)}}while(ei);if(ee&&!ek.measuredSomething&&!ee[0]){ee[0]=ek.pre.appendChild(ej?d4("span","\u00a0"):aP(em.display.measure))}if(!ek.pre.firstChild&&!dK(em.doc,ep)){ek.pre.appendChild(document.createTextNode("\u00a0"))}var ef;if(ee&&cs&&(ef=a(eq))){var eh=ef.length-1;if(ef[eh].from==ef[eh].to){--eh}var eo=ef[eh],eg=ef[eh-1];if(eo.from+1==eo.to&&eg&&eo.level<eg.level){var el=ee[ek.pos-1];if(el){el.parentNode.insertBefore(el.measureRight=aP(em.display.measure),el.nextSibling)}}}af(em,"renderLine",em,ep,ek.pre);return ek.pre}var b5=/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\uFEFF]/g;function p(ei,ep,ee,eh,eq){if(!ep){return}if(!b5.test(ep)){ei.col+=ep.length;var el=document.createTextNode(ep)}else{var el=document.createDocumentFragment(),en=0;while(true){b5.lastIndex=en;var ef=b5.exec(ep);var ek=ef?ef.index-en:ep.length-en;if(ek){el.appendChild(document.createTextNode(ep.slice(en,en+ek)));ei.col+=ek}if(!ef){break}en+=ek+1;if(ef[0]=="\t"){var ej=ei.cm.options.tabSize,em=ej-ei.col%ej;el.appendChild(d4("span",bC(em),"cm-tab"));ei.col+=em}else{var eg=d4("span","\u2022","cm-invalidchar");eg.title="\\u"+ef[0].charCodeAt(0).toString(16);el.appendChild(eg);ei.col+=1}}}if(ee||eh||eq||ei.measure){var eo=ee||"";if(eh){eo+=eh}if(eq){eo+=eq}return ei.pre.appendChild(d4("span",[el],eo))}ei.pre.appendChild(el)}function e(ek,em,ef,eh,en){var ej=ek.cm.options.lineWrapping;for(var ei=0;ei<em.length;++ei){var ee=em.charAt(ei),eg=ei==0;if(ee>="\ud800"&&ee<"\udbff"&&ei<em.length-1){ee=em.slice(ei,ei+2);++ei}else{if(ei&&ej&&bo(em,ei)){ek.pre.appendChild(d4("wbr"))}}var el=ek.measure[ek.pos]=p(ek,ee,ef,eg&&eh,ei==em.length-1&&en);if(cs&&ej&&ee==" "&&ei&&!/\s/.test(em.charAt(ei-1))&&ei<em.length-1&&!/\s/.test(em.charAt(ei+1))){el.style.whiteSpace="normal"}ek.pos+=ee.length}if(em.length){ek.measuredSomething=true}}function dR(ee){function ef(eg){var eh=" ";for(var ei=0;ei<eg.length-2;++ei){eh+=ei%2?" ":"\u00a0"}eh+=" ";return eh}return function(eh,ek,ei,eg,ej){return ee(eh,ek.replace(/ {3,}/,ef),ei,eg,ej)}}function K(ee,ef,eg){if(eg){if(!ee.display){eg=eg.cloneNode(true)}if(ee.measure){ee.measure[ee.pos]=ef?eg:ee.pre.appendChild(aP(ee.cm.display.measure));ee.measuredSomething=true}ee.pre.appendChild(eg)}ee.pos+=ef}function aQ(em,et,el){var ej=em.markedSpans,ek=em.text,er=0;if(!ej){for(var ew=1;ew<el.length;ew+=2){et.addToken(et,ek.slice(er,er=el[ew]),j(el[ew+1]))}return}var ex=ek.length,ei=0,ew=1,ep="",ey;var eA=0,ee,ez,eq,eg;for(;;){if(eA==ei){ee=ez=eq="";eg=null;eA=Infinity;var en=null;for(var eu=0;eu<ej.length;++eu){var ev=ej[eu],es=ev.marker;if(ev.from<=ei&&(ev.to==null||ev.to>ei)){if(ev.to!=null&&eA>ev.to){eA=ev.to;ez=""}if(es.className){ee+=" "+es.className}if(es.startStyle&&ev.from==ei){eq+=" "+es.startStyle}if(es.endStyle&&ev.to==eA){ez+=" "+es.endStyle}if(es.collapsed&&(!eg||eg.marker.size<es.size)){eg=ev}}else{if(ev.from>ei&&eA>ev.from){eA=ev.from}}if(es.type=="bookmark"&&ev.from==ei&&es.replacedWith){en=es.replacedWith}}if(eg&&(eg.from||0)==ei){K(et,(eg.to==null?ex:eg.to)-ei,eg.from!=null&&eg.marker.replacedWith);if(eg.to==null){return eg.marker.find()}}if(en&&!eg){K(et,0,en)}}if(ei>=ex){break}var eo=Math.min(ex,eA);while(true){if(ep){var ef=ei+ep.length;if(!eg){var eh=ef>eo?ep.slice(0,eo-ei):ep;et.addToken(et,eh,ey?ey+ee:ee,eq,ei+eh.length==eA?ez:"")}if(ef>=eo){ep=ep.slice(eo-ei);ei=eo;break}ei=ef;eq=""}ep=ek.slice(er,er=el[ew++]);ey=j(el[ew++])}}}function dN(ev,em,ei,eq,ek){function eh(ew){return ei?ei[ew]:null}function el(ew,ey,ex){cS(ew,ey,ex,ek);M(ew,"change",ew,em)}var er=em.from,ef=em.to,eo=em.text;var en=dv(ev,er.line),ee=dv(ev,ef.line);var eg=dS(eo),et=eh(eo.length-1),ep=ef.line-er.line;if(er.ch==0&&ef.ch==0&&eg==""){for(var es=0,eu=eo.length-1,ej=[];es<eu;++es){ej.push(aM(eo[es],eh(es),ek))}el(ee,ee.text,et);if(ep){ev.remove(er.line,ep)}if(ej.length){ev.insert(er.line,ej)}}else{if(en==ee){if(eo.length==1){el(en,en.text.slice(0,er.ch)+eg+en.text.slice(ef.ch),et)}else{for(var ej=[],es=1,eu=eo.length-1;es<eu;++es){ej.push(aM(eo[es],eh(es),ek))}ej.push(aM(eg+en.text.slice(ef.ch),et,ek));el(en,en.text.slice(0,er.ch)+eo[0],eh(0));ev.insert(er.line+1,ej)}}else{if(eo.length==1){el(en,en.text.slice(0,er.ch)+eo[0]+ee.text.slice(ef.ch),eh(0));ev.remove(er.line+1,ep)}else{el(en,en.text.slice(0,er.ch)+eo[0],eh(0));el(ee,eg+ee.text.slice(ef.ch),et);for(var es=1,eu=eo.length-1,ej=[];es<eu;++es){ej.push(aM(eo[es],eh(es),ek))}if(ep>1){ev.remove(er.line+1,ep-1)}ev.insert(er.line+1,ej)}}}M(ev,"change",ev,em);bd(ev,eq.anchor,eq.head,null,true)}function dk(ef){this.lines=ef;this.parent=null;for(var eg=0,eh=ef.length,ee=0;eg<eh;++eg){ef[eg].parent=this;ee+=ef[eg].height}this.height=ee}dk.prototype={chunkSize:function(){return this.lines.length},removeInner:function(ee,ei){for(var eg=ee,eh=ee+ei;eg<eh;++eg){var ef=this.lines[eg];this.height-=ef.height;aX(ef);M(ef,"delete")}this.lines.splice(ee,ei)},collapse:function(ee){ee.splice.apply(ee,[ee.length,0].concat(this.lines))},insertInner:function(ef,eg,ee){this.height+=ee;this.lines=this.lines.slice(0,ef).concat(eg).concat(this.lines.slice(ef));for(var eh=0,ei=eg.length;eh<ei;++eh){eg[eh].parent=this}},iterN:function(ee,eh,eg){for(var ef=ee+eh;ee<ef;++ee){if(eg(this.lines[ee])){return true}}}};function dL(eh){this.children=eh;var eg=0,ee=0;for(var ef=0,ej=eh.length;ef<ej;++ef){var ei=eh[ef];eg+=ei.chunkSize();ee+=ei.height;ei.parent=this}this.size=eg;this.height=ee;this.parent=null}dL.prototype={chunkSize:function(){return this.size},removeInner:function(ee,el){this.size-=el;for(var eg=0;eg<this.children.length;++eg){var ek=this.children[eg],ei=ek.chunkSize();if(ee<ei){var eh=Math.min(el,ei-ee),ej=ek.height;ek.removeInner(ee,eh);this.height-=ej-ek.height;if(ei==eh){this.children.splice(eg--,1);ek.parent=null}if((el-=eh)==0){break}ee=0}else{ee-=ei}}if(this.size-el<25){var ef=[];this.collapse(ef);this.children=[new dk(ef)];this.children[0].parent=this}},collapse:function(ee){for(var ef=0,eg=this.children.length;ef<eg;++ef){this.children[ef].collapse(ee)}},insertInner:function(ef,em,el){this.size+=em.length;this.height+=el;for(var eg=0,ei=this.children.length;eg<ei;++eg){var ee=this.children[eg],ej=ee.chunkSize();if(ef<=ej){ee.insertInner(ef,em,el);if(ee.lines&&ee.lines.length>50){while(ee.lines.length>50){var eh=ee.lines.splice(ee.lines.length-25,25);var ek=new dk(eh);ee.height-=ek.height;this.children.splice(eg+1,0,ek);ek.parent=this}this.maybeSpill()}break}ef-=ej}},maybeSpill:function(){if(this.children.length<=10){return}var eh=this;do{var ef=eh.children.splice(eh.children.length-5,5);var eg=new dL(ef);if(!eh.parent){var ei=new dL(eh.children);ei.parent=eh;eh.children=[ei,eg];eh=ei}else{eh.size-=eg.size;eh.height-=eg.height;var ee=cd(eh.parent.children,eh);eh.parent.children.splice(ee+1,0,eg)}eg.parent=eh.parent}while(eh.children.length>10);eh.parent.maybeSpill()},iterN:function(ee,el,ek){for(var ef=0,ei=this.children.length;ef<ei;++ef){var ej=this.children[ef],eh=ej.chunkSize();if(ee<eh){var eg=Math.min(el,eh-ee);if(ej.iterN(ee,eg,ek)){return true}if((el-=eg)==0){break}ee=0}else{ee-=eh}}}};var bD=0;var Y=z.Doc=function(eg,ef,ee){if(!(this instanceof Y)){return new Y(eg,ef,ee)}if(ee==null){ee=0}dL.call(this,[new dk([aM("",null)])]);this.first=ee;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.history=aa();this.cleanGeneration=1;this.frontier=ee;var eh=I(ee,0);this.sel={from:eh,to:eh,head:eh,anchor:eh,shift:false,extend:false,goalColumn:null};this.id=++bD;this.modeOption=ef;if(typeof eg=="string"){eg=aw(eg)}dN(this,{from:eh,to:eh,text:eg},null,{head:eh,anchor:eh})};Y.prototype=bw(dL.prototype,{constructor:Y,iter:function(eg,ef,ee){if(ee){this.iterN(eg-this.first,ef-eg,ee)}else{this.iterN(this.first,this.first+this.size,eg)}},insert:function(ef,eg){var ee=0;for(var eh=0,ei=eg.length;eh<ei;++eh){ee+=eg[eh].height}this.insertInner(ef-this.first,eg,ee)},remove:function(ee,ef){this.removeInner(ee-this.first,ef)},getValue:function(ef){var ee=ay(this,this.first,this.first+this.size);if(ef===false){return ee}return ee.join(ef||"\n")},setValue:function(ef){var eg=I(this.first,0),ee=this.first+this.size-1;aG(this,{from:eg,to:I(ee,dv(this,ee).text.length),text:aw(ef),origin:"setValue"},{head:eg,anchor:eg},true)},replaceRange:function(ef,eh,eg,ee){eh=dU(this,eh);eg=eg?dU(this,eg):eh;ax(this,ef,eh,eg,ee)},getRange:function(eh,eg,ef){var ee=d5(this,dU(this,eh),dU(this,eg));if(ef===false){return ee}return ee.join(ef||"\n")},getLine:function(ef){var ee=this.getLineHandle(ef);return ee&&ee.text},setLine:function(ee,ef){if(bn(this,ee)){ax(this,ef,I(ee,0),dU(this,I(ee)))}},removeLine:function(ee){if(ee){ax(this,"",dU(this,I(ee-1)),dU(this,I(ee)))}else{ax(this,"",I(0,0),dU(this,I(1,0)))}},getLineHandle:function(ee){if(bn(this,ee)){return dv(this,ee)}},getLineNumber:function(ee){return a8(ee)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(ee){return dU(this,ee)},getCursor:function(eg){var ee=this.sel,ef;if(eg==null||eg=="head"){ef=ee.head}else{if(eg=="anchor"){ef=ee.anchor}else{if(eg=="end"||eg===false){ef=ee.to}else{ef=ee.from}}}return bv(ef)},somethingSelected:function(){return !dT(this.sel.head,this.sel.anchor)},setCursor:dO(function(ee,ef,eh){var eg=dU(this,typeof ee=="number"?I(ee,ef||0):ee);if(eh){d1(this,eg)}else{bd(this,eg,eg)}}),setSelection:dO(function(ee,ef){bd(this,dU(this,ee),dU(this,ef||ee))}),extendSelection:dO(function(ef,ee){d1(this,dU(this,ef),ee&&dU(this,ee))}),getSelection:function(ee){return this.getRange(this.sel.from,this.sel.to,ee)},replaceSelection:function(ef,eg,ee){aG(this,{from:this.sel.from,to:this.sel.to,text:aw(ef),origin:ee},eg||"around")},undo:dO(function(){bm(this,"undo")}),redo:dO(function(){bm(this,"redo")}),setExtending:function(ee){this.sel.extend=ee},historySize:function(){var ee=this.history;return{undo:ee.done.length,redo:ee.undone.length}},clearHistory:function(){this.history=aa(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration()},changeGeneration:function(){this.history.lastOp=this.history.lastOrigin=null;return this.history.generation},isClean:function(ee){return this.history.generation==(ee||this.cleanGeneration)},getHistory:function(){return{done:a9(this.history.done),undone:a9(this.history.undone)}},setHistory:function(ef){var ee=this.history=aa(this.history.maxGeneration);ee.done=ef.done.slice(0);ee.undone=ef.undone.slice(0)},markText:function(eg,ef,ee){return c8(this,dU(this,eg),dU(this,ef),ee,"range")},setBookmark:function(eg,ee){var ef={replacedWith:ee&&(ee.nodeType==null?ee.widget:ee),insertLeft:ee&&ee.insertLeft};eg=dU(this,eg);return c8(this,eg,eg,ef,"bookmark")},findMarksAt:function(ei){ei=dU(this,ei);var eh=[],ef=dv(this,ei.line).markedSpans;if(ef){for(var ee=0;ee<ef.length;++ee){var eg=ef[ee];if((eg.from==null||eg.from<=ei.ch)&&(eg.to==null||eg.to>=ei.ch)){eh.push(eg.marker.parent||eg.marker)}}}return eh},getAllMarks:function(){var ee=[];this.iter(function(eg){var ef=eg.markedSpans;if(ef){for(var eh=0;eh<ef.length;++eh){if(ef[eh].from!=null){ee.push(ef[eh].marker)}}}});return ee},posFromIndex:function(ef){var ee,eg=this.first;this.iter(function(eh){var ei=eh.text.length+1;if(ei>ef){ee=ef;return true}ef-=ei;++eg});return dU(this,I(eg,ee))},indexFromPos:function(ef){ef=dU(this,ef);var ee=ef.ch;if(ef.line<this.first||ef.ch<0){return 0}this.iter(this.first,ef.line,function(eg){ee+=eg.text.length+1});return ee},copy:function(ee){var ef=new Y(ay(this,this.first,this.first+this.size),this.modeOption,this.first);ef.scrollTop=this.scrollTop;ef.scrollLeft=this.scrollLeft;ef.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:false,goalColumn:this.sel.goalColumn};if(ee){ef.history.undoDepth=this.history.undoDepth;ef.setHistory(this.getHistory())}return ef},linkedDoc:function(ee){if(!ee){ee={}}var eh=this.first,eg=this.first+this.size;if(ee.from!=null&&ee.from>eh){eh=ee.from}if(ee.to!=null&&ee.to<eg){eg=ee.to}var ef=new Y(ay(this,eh,eg),ee.mode||this.modeOption,eh);if(ee.sharedHist){ef.history=this.history}(this.linked||(this.linked=[])).push({doc:ef,sharedHist:ee.sharedHist});ef.linked=[{doc:this,isParent:true,sharedHist:ee.sharedHist}];return ef},unlinkDoc:function(ef){if(ef instanceof z){ef=ef.doc}if(this.linked){for(var eg=0;eg<this.linked.length;++eg){var eh=this.linked[eg];if(eh.doc!=ef){continue}this.linked.splice(eg,1);ef.unlinkDoc(this);break}}if(ef.history==this.history){var ee=[ef.id];cF(ef,function(ei){ee.push(ei.id)},true);ef.history=aa();ef.history.done=a9(this.history.done,ee);ef.history.undone=a9(this.history.undone,ee)}},iterLinkedDocs:function(ee){cF(this,ee)},getMode:function(){return this.mode},getEditor:function(){return this.cm}});Y.prototype.eachLine=Y.prototype.iter;var d="iter insert remove copy getEditor".split(" ");for(var a5 in Y.prototype){if(Y.prototype.hasOwnProperty(a5)&&cd(d,a5)<0){z.prototype[a5]=(function(ee){return function(){return ee.apply(this.doc,arguments)}})(Y.prototype[a5])}}function cF(eh,eg,ef){function ee(en,el,ej){if(en.linked){for(var ek=0;ek<en.linked.length;++ek){var ei=en.linked[ek];if(ei.doc==el){continue}var em=ej&&ei.sharedHist;if(ef&&!em){continue}eg(ei.doc,em);ee(ei.doc,en,em)}}}ee(eh,null,true)}function cI(ee,ef){if(ef.cm){throw new Error("This document is already in use.")}ee.doc=ef;ef.cm=ee;J(ee);aS(ee);if(!ee.options.lineWrapping){d6(ee)}ee.options.mode=ef.modeOption;O(ee)}function dv(ee,ei){ei-=ee.first;while(!ee.lines){for(var ef=0;;++ef){var eh=ee.children[ef],eg=eh.chunkSize();if(ei<eg){ee=eh;break}ei-=eg}}return ee.lines[ei]}function d5(eg,ei,ee){var ef=[],eh=ei.line;eg.iter(ei.line,ee.line+1,function(ej){var ek=ej.text;if(eh==ee.line){ek=ek.slice(0,ee.ch)}if(eh==ei.line){ek=ek.slice(ei.ch)}ef.push(ek);++eh});return ef}function ay(ef,eh,eg){var ee=[];ef.iter(eh,eg,function(ei){ee.push(ei.text)});return ee}function d7(ef,ee){var eg=ee-ef.height;for(var eh=ef;eh;eh=eh.parent){eh.height+=eg}}function a8(ee){if(ee.parent==null){return null}var ei=ee.parent,eh=cd(ei.lines,ee);for(var ef=ei.parent;ef;ei=ef,ef=ef.parent){for(var eg=0;;++eg){if(ef.children[eg]==ei){break}eh+=ef.children[eg].chunkSize()}}return eh+ei.first}function a1(ek,ei){var eg=ek.first;outer:do{for(var eh=0,ej=ek.children.length;eh<ej;++eh){var ef=ek.children[eh],ee=ef.height;if(ei<ee){ek=ef;continue outer}ei-=ee;eg+=ef.chunkSize()}return eg}while(!ek.lines);for(var eh=0,ej=ek.lines.length;eh<ej;++eh){var em=ek.lines[eh],el=em.height;if(ei<el){break}ei-=el}return eg+eh}function a7(ee,eh){eh=t(ee.doc,eh);var ej=0,eg=eh.parent;for(var ei=0;ei<eg.lines.length;++ei){var ef=eg.lines[ei];if(ef==eh){break}else{ej+=ef.height}}for(var ek=eg.parent;ek;eg=ek,ek=eg.parent){for(var ei=0;ei<ek.children.length;++ei){var el=ek.children[ei];if(el==eg){break}else{ej+=el.height}}}return ej}function a(ef){var ee=ef.order;if(ee==null){ee=ef.order=aH(ef.text)}return ee}function aa(ee){return{done:[],undone:[],undoDepth:Infinity,lastTime:0,lastOp:null,lastOrigin:null,generation:ee||1,maxGeneration:ee||1}}function bg(ef,ej,ei,eh){var ee=ej["spans_"+ef.id],eg=0;ef.iter(Math.max(ef.first,ei),Math.min(ef.first+ef.size,eh),function(ek){if(ek.markedSpans){(ee||(ee=ej["spans_"+ef.id]={}))[eg]=ek.markedSpans}++eg})}function ck(ee,eg){var ef={from:eg.from,to:bY(eg),text:d5(ee,eg.from,eg.to)};bg(ee,ef,eg.from.line,eg.to.line+1);cF(ee,function(eh){bg(eh,ef,eg.from.line,eg.to.line+1)},true);return ef}function c9(ej,el,ei,ee){var eh=ej.history;eh.undone.length=0;var eg=+new Date,ek=dS(eh.done);if(ek&&(eh.lastOp==ee||eh.lastOrigin==el.origin&&el.origin&&((el.origin.charAt(0)=="+"&&ej.cm&&eh.lastTime>eg-ej.cm.options.historyEventDelay)||el.origin.charAt(0)=="*"))){var ef=dS(ek.changes);if(dT(el.from,el.to)&&dT(el.from,ef.to)){ef.to=bY(el)}else{ek.changes.push(ck(ej,el))}ek.anchorAfter=ei.anchor;ek.headAfter=ei.head}else{ek={changes:[ck(ej,el)],generation:eh.generation,anchorBefore:ej.sel.anchor,headBefore:ej.sel.head,anchorAfter:ei.anchor,headAfter:ei.head};eh.done.push(ek);eh.generation=++eh.maxGeneration;while(eh.done.length>eh.undoDepth){eh.done.shift()}}eh.lastTime=eg;eh.lastOp=ee;eh.lastOrigin=el.origin}function aK(eg){if(!eg){return null}for(var ef=0,ee;ef<eg.length;++ef){if(eg[ef].marker.explicitlyCleared){if(!ee){ee=eg.slice(0,ef)}}else{if(ee){ee.push(eg[ef])}}}return !ee?eg:ee.length?ee:null}function bl(eh,ei){var eg=ei["spans_"+eh.id];if(!eg){return null}for(var ef=0,ee=[];ef<ei.text.length;++ef){ee.push(aK(eg[ef]))}return ee}function a9(eo,eh){for(var ek=0,ef=[];ek<eo.length;++ek){var eg=eo[ek],em=eg.changes,en=[];ef.push({changes:en,anchorBefore:eg.anchorBefore,headBefore:eg.headBefore,anchorAfter:eg.anchorAfter,headAfter:eg.headAfter});for(var ej=0;ej<em.length;++ej){var el=em[ej],ei;en.push({from:el.from,to:el.to,text:el.text});if(eh){for(var ee in el){if(ei=ee.match(/^spans_(\d+)$/)){if(cd(eh,Number(ei[1]))>-1){dS(en)[ee]=el[ee];delete el[ee]}}}}}}return ef}function di(eh,eg,ef,ee){if(ef<eh.line){eh.line+=ee}else{if(eg<eh.line){eh.line=eg;eh.ch=0}}}function dy(eh,ej,ek,el){for(var eg=0;eg<eh.length;++eg){var ee=eh[eg],ei=true;for(var ef=0;ef<ee.changes.length;++ef){var em=ee.changes[ef];if(!ee.copied){em.from=bv(em.from);em.to=bv(em.to)}if(ek<em.from.line){em.from.line+=el;em.to.line+=el}else{if(ej<=em.to.line){ei=false;break}}}if(!ee.copied){ee.anchorBefore=bv(ee.anchorBefore);ee.headBefore=bv(ee.headBefore);ee.anchorAfter=bv(ee.anchorAfter);ee.readAfter=bv(ee.headAfter);ee.copied=true}if(!ei){eh.splice(0,eg+1);eg=0}else{di(ee.anchorBefore);di(ee.headBefore);di(ee.anchorAfter);di(ee.headAfter)}}}function cr(ef,ei){var eh=ei.from.line,eg=ei.to.line,ee=ei.text.length-(eg-eh)-1;dy(ef.done,eh,eg,ee);dy(ef.undone,eh,eg,ee)}function df(){cT(this)}function W(ee){if(!ee.stop){ee.stop=df}return ee}function bO(ee){if(ee.preventDefault){ee.preventDefault()}else{ee.returnValue=false}}function ch(ee){if(ee.stopPropagation){ee.stopPropagation()}else{ee.cancelBubble=true}}function a6(ee){return ee.defaultPrevented!=null?ee.defaultPrevented:ee.returnValue==false}function cT(ee){bO(ee);ch(ee)}z.e_stop=cT;z.e_preventDefault=bO;z.e_stopPropagation=ch;function B(ee){return ee.target||ee.srcElement}function dW(ef){var ee=ef.which;if(ee==null){if(ef.button&1){ee=1}else{if(ef.button&2){ee=3}else{if(ef.button&4){ee=2}}}}if(bk&&ef.ctrlKey&&ee==1){ee=3}return ee}function bf(eh,ef,eg){if(eh.addEventListener){eh.addEventListener(ef,eg,false)}else{if(eh.attachEvent){eh.attachEvent("on"+ef,eg)}else{var ei=eh._handlers||(eh._handlers={});var ee=ei[ef]||(ei[ef]=[]);ee.push(eg)}}}function cL(ei,eg,eh){if(ei.removeEventListener){ei.removeEventListener(eg,eh,false)}else{if(ei.detachEvent){ei.detachEvent("on"+eg,eh)}else{var ee=ei._handlers&&ei._handlers[eg];if(!ee){return}for(var ef=0;ef<ee.length;++ef){if(ee[ef]==eh){ee.splice(ef,1);break}}}}}function af(ei,eh){var ee=ei._handlers&&ei._handlers[eh];if(!ee){return}var ef=Array.prototype.slice.call(arguments,2);for(var eg=0;eg<ee.length;++eg){ee[eg].apply(null,ef)}}var aO,bE=0;function M(ej,ei){var ee=ej._handlers&&ej._handlers[ei];if(!ee){return}var eg=Array.prototype.slice.call(arguments,2);if(!aO){++bE;aO=[];setTimeout(c1,0)}function ef(ek){return function(){ek.apply(null,eg)}}for(var eh=0;eh<ee.length;++eh){aO.push(ef(ee[eh]))}}function ap(ee,ef){af(ee,ef.type,ee,ef);return a6(ef)}function c1(){--bE;var ee=aO;aO=null;for(var ef=0;ef<ee.length;++ef){ee[ef]()}}function dB(eg,ef){var ee=eg._handlers&&eg._handlers[ef];return ee&&ee.length>0}z.on=bf;z.off=cL;z.signal=af;var aJ=30;var bp=z.Pass={toString:function(){return"CodeMirror.Pass"}};function ed(){this.id=null}ed.prototype={set:function(ee,ef){clearTimeout(this.id);this.id=setTimeout(ef,ee)}};function bb(eg,ee,ei,ej,ef){if(ee==null){ee=eg.search(/[^\s\u00a0]/);if(ee==-1){ee=eg.length}}for(var eh=ej||0,ek=ef||0;eh<ee;++eh){if(eg.charAt(eh)=="\t"){ek+=ei-(ek%ei)}else{++ek}}return ek}z.countColumn=bb;var av=[""];function bC(ee){while(av.length<=ee){av.push(dS(av)+" ")}return av[ee]}function dS(ee){return ee[ee.length-1]}function cu(ef){if(dl){ef.selectionStart=0;ef.selectionEnd=ef.value.length}else{try{ef.select()}catch(ee){}}}function cd(eh,ee){if(eh.indexOf){return eh.indexOf(ee)}for(var ef=0,eg=eh.length;ef<eg;++ef){if(eh[ef]==ee){return ef}}return -1}function bw(eh,ef){function ee(){}ee.prototype=eh;var eg=new ee();if(ef){ak(ef,eg)}return eg}function ak(ef,ee){if(!ee){ee={}}for(var eg in ef){if(ef.hasOwnProperty(eg)){ee[eg]=ef[eg]}}return ee}function S(eg){for(var ee=[],ef=0;ef<eg;++ef){ee.push(undefined)}return ee}function bH(ef){var ee=Array.prototype.slice.call(arguments,1);return function(){return ef.apply(null,ee)}}var aD=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function bK(ee){return/\w/.test(ee)||ee>"\x80"&&(ee.toUpperCase()!=ee.toLowerCase()||aD.test(ee))}function dh(ee){for(var ef in ee){if(ee.hasOwnProperty(ef)&&ee[ef]){return false}}return true}var dG=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;function d4(ee,ei,eh,eg){var ej=document.createElement(ee);if(eh){ej.className=eh}if(eg){ej.style.cssText=eg}if(typeof ei=="string"){n(ej,ei)}else{if(ei){for(var ef=0;ef<ei.length;++ef){ej.appendChild(ei[ef])}}}return ej}function cC(ef){for(var ee=ef.childNodes.length;ee>0;--ee){ef.removeChild(ef.firstChild)}return ef}function bc(ee,ef){return cC(ee).appendChild(ef)}function n(ee,ef){if(bx){ee.innerHTML="";ee.appendChild(document.createTextNode(ef))}else{ee.textContent=ef}}function al(ee){return ee.getBoundingClientRect()}z.replaceGetRect=function(ee){al=ee};var dc=function(){if(bx){return false}var ee=d4("div");return"draggable" in ee||"dragDrop" in ee}();function bo(){return false}if(bB){bo=function(ef,ee){return ef.charCodeAt(ee-1)==36&&ef.charCodeAt(ee)==39}}else{if(ae&&!/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent)){bo=function(ef,ee){return/\-[^ \-?]|\?[^ !\'\"\),.\-\/:;\?\]\}]/.test(ef.slice(ee-1,ee+1))}}else{if(b1){bo=function(ef,ee){if(ee>1&&ef.charCodeAt(ee-1)==45&&/\w/.test(ef.charAt(ee-2))&&/[^\-?\.]/.test(ef.charAt(ee))){return true}return/[~!#%&*)=+}\]|\"\.>,:;][({[<]|-[^\-?\.\u2010-\u201f\u2026]|\?[\w~`@#$%\^&*(_=+{[|><]|[\w~`@#$%\^&*(_=+{[><]/.test(ef.slice(ee-1,ee+1))}}}}var cX;function i(ee){if(cX!=null){return cX}var ef=d4("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");bc(ee,ef);if(ef.offsetWidth){cX=ef.offsetHeight-ef.clientHeight}return cX||0}var dV;function aP(ee){if(dV==null){var ef=d4("span","\u200b");bc(ee,d4("span",[ef,document.createTextNode("x")]));if(ee.firstChild.offsetHeight!=0){dV=ef.offsetWidth<=1&&ef.offsetHeight>2&&!by}}if(dV){return d4("span","\u200b")}else{return d4("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px")}}var aw="\n\nb".split(/\n/).length!=3?function(ej){var ek=0,ee=[],ei=ej.length;while(ek<=ei){var eh=ej.indexOf("\n",ek);if(eh==-1){eh=ej.length}var eg=ej.slice(ek,ej.charAt(eh-1)=="\r"?eh-1:eh);var ef=eg.indexOf("\r");if(ef!=-1){ee.push(eg.slice(0,ef));ek+=ef+1}else{ee.push(eg);ek=eh+1}}return ee}:function(ee){return ee.split(/\r\n?|\n/)};z.splitLines=aw;var aT=window.getSelection?function(ef){try{return ef.selectionStart!=ef.selectionEnd}catch(ee){return false}}:function(eg){try{var ee=eg.ownerDocument.selection.createRange()}catch(ef){}if(!ee||ee.parentElement()!=eg){return false}return ee.compareEndPoints("StartToEnd",ee)!=0};var b8=(function(){var ee=d4("div");if("oncopy" in ee){return true}ee.setAttribute("oncopy","return;");return typeof ee.oncopy=="function"})();var dx={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};z.keyNames=dx;(function(){for(var ee=0;ee<10;ee++){dx[ee+48]=String(ee)}for(var ee=65;ee<=90;ee++){dx[ee]=String.fromCharCode(ee)}for(var ee=1;ee<=12;ee++){dx[ee+111]=dx[ee+63235]="F"+ee}})();function cD(ee,ej,ei,eh){if(!ee){return eh(ej,ei,"ltr")}for(var eg=0;eg<ee.length;++eg){var ef=ee[eg];if(ef.from<ei&&ef.to>ej||ej==ei&&ef.to==ej){eh(Math.max(ef.from,ej),Math.min(ef.to,ei),ef.level==1?"rtl":"ltr")}}}function cn(ee){return ee.level%2?ee.to:ee.from}function ea(ee){return ee.level%2?ee.from:ee.to}function bN(ef){var ee=a(ef);return ee?cn(ee[0]):0}function bX(ef){var ee=a(ef);if(!ee){return ef.text.length}return ea(dS(ee))}function aU(ef,ei){var eg=dv(ef.doc,ei);var ej=t(ef.doc,eg);if(ej!=eg){ei=a8(ej)}var ee=a(ej);var eh=!ee?0:ee[0].level%2?bX(ej):bN(ej);return I(ei,eh)}function cx(eg,ej){var ef,eh;while(ef=cW(eh=dv(eg.doc,ej))){ej=ef.find().to.line}var ee=a(eh);var ei=!ee?eh.text.length:ee[0].level%2?bN(eh):bX(eh);return I(ej,ei)}function V(ef,eg,ee){var eh=ef[0].level;if(eg==eh){return true}if(ee==eh){return false}return eg<ee}var dm;function ah(ee,ei){for(var ef=0,eg;ef<ee.length;++ef){var eh=ee[ef];if(eh.from<ei&&eh.to>ei){dm=null;return ef}if(eh.from==ei||eh.to==ei){if(eg==null){eg=ef}else{if(V(ee,eh.level,ee[eg].level)){dm=eg;return ef}else{dm=ef;return eg}}}}dm=null;return eg}function du(ee,eh,ef,eg){if(!eg){return eh+ef}do{eh+=ef}while(eh>0&&dG.test(ee.text.charAt(eh)));return eh}function q(ee,el,eg,eh){var ei=a(ee);if(!ei){return P(ee,el,eg,eh)}var ek=ah(ei,el),ef=ei[ek];var ej=du(ee,el,ef.level%2?-eg:eg,eh);for(;;){if(ej>ef.from&&ej<ef.to){return ej}if(ej==ef.from||ej==ef.to){if(ah(ei,ej)==ek){return ej}ef=ei[ek+=eg];return(eg>0)==ef.level%2?ef.to:ef.from}else{ef=ei[ek+=eg];if(!ef){return null}if((eg>0)==ef.level%2){ej=du(ee,ef.to,-1,eh)}else{ej=du(ee,ef.from,1,eh)}}}}function P(ee,ei,ef,eg){var eh=ei+ef;if(eg){while(eh>0&&dG.test(ee.text.charAt(eh))){eh+=ef}}return eh<0||eh>ee.text.length?null:eh}var aH=(function(){var ek="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL";var ei="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr";function eh(en){if(en<=255){return ek.charAt(en)}else{if(1424<=en&&en<=1524){return"R"}else{if(1536<=en&&en<=1791){return ei.charAt(en-1536)}else{if(1792<=en&&en<=2220){return"r"}else{return"L"}}}}}var ee=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var em=/[stwN]/,eg=/[LRr]/,ef=/[Lb1n]/,ej=/[1n]/;var el="L";return function(ex){if(!ee.test(ex)){return false}var eD=ex.length,et=[];for(var eC=0,ep;eC<eD;++eC){et.push(ep=eh(ex.charCodeAt(eC)))}for(var eC=0,ew=el;eC<eD;++eC){var ep=et[eC];if(ep=="m"){et[eC]=ew}else{ew=ep}}for(var eC=0,en=el;eC<eD;++eC){var ep=et[eC];if(ep=="1"&&en=="r"){et[eC]="n"}else{if(eg.test(ep)){en=ep;if(ep=="r"){et[eC]="R"}}}}for(var eC=1,ew=et[0];eC<eD-1;++eC){var ep=et[eC];if(ep=="+"&&ew=="1"&&et[eC+1]=="1"){et[eC]="1"}else{if(ep==","&&ew==et[eC+1]&&(ew=="1"||ew=="n")){et[eC]=ew}}ew=ep}for(var eC=0;eC<eD;++eC){var ep=et[eC];if(ep==","){et[eC]="N"}else{if(ep=="%"){for(var eq=eC+1;eq<eD&&et[eq]=="%";++eq){}var eE=(eC&&et[eC-1]=="!")||(eq<eD-1&&et[eq]=="1")?"1":"N";for(var eA=eC;eA<eq;++eA){et[eA]=eE}eC=eq-1}}}for(var eC=0,en=el;eC<eD;++eC){var ep=et[eC];if(en=="L"&&ep=="1"){et[eC]="L"}else{if(eg.test(ep)){en=ep}}}for(var eC=0;eC<eD;++eC){if(em.test(et[eC])){for(var eq=eC+1;eq<eD&&em.test(et[eq]);++eq){}var eu=(eC?et[eC-1]:el)=="L";var eo=(eq<eD-1?et[eq]:el)=="L";var eE=eu||eo?"L":"R";for(var eA=eC;eA<eq;++eA){et[eA]=eE}eC=eq-1}}var eB=[],ey;for(var eC=0;eC<eD;){if(ef.test(et[eC])){var er=eC;for(++eC;eC<eD&&ef.test(et[eC]);++eC){}eB.push({from:er,to:eC,level:0})}else{var es=eC,ev=eB.length;for(++eC;eC<eD&&et[eC]!="L";++eC){}for(var eA=es;eA<eC;){if(ej.test(et[eA])){if(es<eA){eB.splice(ev,0,{from:es,to:eA,level:1})}var ez=eA;for(++eA;eA<eC&&ej.test(et[eA]);++eA){}eB.splice(ev,0,{from:ez,to:eA,level:2});es=eA}else{++eA}}if(es<eC){eB.splice(ev,0,{from:es,to:eC,level:1})}}}if(eB[0].level==1&&(ey=ex.match(/^\s+/))){eB[0].from=ey[0].length;eB.unshift({from:0,to:ey[0].length,level:0})}if(dS(eB).level==1&&(ey=ex.match(/\s+$/))){dS(eB).to-=ey[0].length;eB.push({from:eD-ey[0].length,to:eD,level:0})}if(eB[0].level!=dS(eB).level){eB.push({from:eD,to:eD,level:eB[0].level})}return eB}})();z.version="3.14.0";return z})();