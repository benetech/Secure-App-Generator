(function(a){if(typeof define==="function"&&define.amd){define("jstree.wholerow",["jquery","jstree"],a)}else{if(typeof exports==="object"){a(require("jquery"),require("jstree"))}else{a(jQuery,jQuery.jstree)}}}(function(b,a,c){if(b.jstree.plugins.wholerow){return}var d=document.createElement("DIV");d.setAttribute("unselectable","on");d.setAttribute("role","presentation");d.className="jstree-wholerow";d.innerHTML="&#160;";b.jstree.plugins.wholerow=function(e,f){this.bind=function(){f.bind.call(this);this.element.on("ready.jstree set_state.jstree",b.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",b.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",b.proxy(function(h,g){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",b.proxy(function(m,l){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var k=false,h,g;for(h=0,g=l.selected.length;h<g;h++){k=this.get_node(l.selected[h],true);if(k&&k.length){k.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}}},this)).on("open_node.jstree",b.proxy(function(h,g){this.get_node(g.node,true).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",b.proxy(function(h,g){if(h.type==="hover_node"&&this.is_disabled(g.node)){return}this.get_node(g.node,true).children(".jstree-wholerow")[h.type==="hover_node"?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",b.proxy(function(h){h.preventDefault();var g=b.Event("contextmenu",{metaKey:h.metaKey,ctrlKey:h.ctrlKey,altKey:h.altKey,shiftKey:h.shiftKey,pageX:h.pageX,pageY:h.pageY});b(h.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(g)},this))
/*!
				.on("mousedown.jstree touchstart.jstree", ".jstree-wholerow", function (e) {
						if(e.target === e.currentTarget) {
							var a = $(e.currentTarget).closest(".jstree-node").children(".jstree-anchor");
							e.target = a[0];
							a.trigger(e);
						}
					})
				*/
.on("click.jstree",".jstree-wholerow",function(h){h.stopImmediatePropagation();var g=b.Event("click",{metaKey:h.metaKey,ctrlKey:h.ctrlKey,altKey:h.altKey,shiftKey:h.shiftKey});b(h.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(g).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",b.proxy(function(h){h.stopImmediatePropagation();var g=b.Event("click",{metaKey:h.metaKey,ctrlKey:h.ctrlKey,altKey:h.altKey,shiftKey:h.shiftKey});b(h.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(g).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",b.proxy(function(g){g.stopImmediatePropagation();if(!this.is_disabled(g.currentTarget)){this.hover_node(g.currentTarget)}return false},this)).on("mouseleave.jstree",".jstree-node",b.proxy(function(g){this.dehover_node(g.currentTarget)},this))};this.teardown=function(){if(this.settings.wholerow){this.element.find(".jstree-wholerow").remove()}f.teardown.call(this)};this.redraw_node=function(j,g,k,i){j=f.redraw_node.apply(this,arguments);if(j){var h=d.cloneNode(true);if(b.inArray(j.id,this._data.core.selected)!==-1){h.className+=" jstree-wholerow-clicked"}if(this._data.core.focused&&this._data.core.focused===j.id){h.className+=" jstree-wholerow-hovered"}j.insertBefore(h,j.childNodes[0])}return j}}}));